/**
 * iOS Fullscreen CSS
 * Estilos específicos para garantir experiência fullscreen em dispositivos iOS
 * 
 * Este arquivo controla comportamentos visuais para dispositivos Apple quando
 * o app é instalado na tela inicial ou acessado como PWA
 */

/* Configurações para HTML e Body em iOS */
html.ios {
  -webkit-text-size-adjust: 100%;
  height: 100vh;
  height: -webkit-fill-available;
  overflow: hidden;
  position: fixed;
  width: 100%;
  -webkit-overflow-scrolling: touch;
}

html.ios body {
  overscroll-behavior: none;
  position: fixed;
  height: 100%;
  width: 100%;
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
}

/* Ajustes para safe areas em dispositivos com notch */
html.ios-fullscreen #root {
  padding-top: env(safe-area-inset-top);
  padding-right: env(safe-area-inset-right);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
}

/* Correção para input fields em iOS */
html.ios input, 
html.ios textarea {
  font-size: 16px; /* Previne zoom automático em campos de formulário */
}

/* Previne seleção de texto não intencional no app */
html.ios-standalone {
  -webkit-user-select: none;
  user-select: none;
}

/* Ajustes para botões em iOS para fornecer feedback tátil */
html.ios button, 
html.ios [role="button"],
html.ios .btn {
  cursor: pointer;
  touch-action: manipulation;
}

/* Animações mais suaves em iOS */ 
html.ios * {
  -webkit-tap-highlight-color: transparent;
}

/* Correção para landscape em iPhones */
@media screen and (orientation: landscape) and (max-device-width: 926px) {
  html.ios body {
    position: fixed;
    width: 100vw;
    height: -webkit-fill-available;
  }
}

/* Corrações para caixas de diálogo e modais */
html.ios .modal,
html.ios .dialog,
html.ios [role="dialog"] {
  max-height: -webkit-fill-available;
  max-height: 100vh;
}

/* Efeito de pressão para elementos interativos */
@media (hover: none) and (pointer: coarse) {
  html.ios button:active,
  html.ios [role="button"]:active,
  html.ios .btn:active,
  html.ios .card:active,
  html.ios .interactive:active {
    transform: scale(0.97);
    transition: transform 0.1s ease-in-out;
  }
}

/* Ajustes específicos para devices com notch (iPhone X e posteriores) */
@supports (padding-top: env(safe-area-inset-top)) {
  html.ios .has-notch-padding {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  html.ios .navbar-fixed {
    padding-top: env(safe-area-inset-top);
    height: calc(44px + env(safe-area-inset-top));
  }
  
  html.ios .footer-fixed {
    padding-bottom: env(safe-area-inset-bottom);
    height: calc(44px + env(safe-area-inset-bottom));
  }
}

/* Prevenção de pull-to-refresh em iOS 15+ */
html.ios {
  overscroll-behavior-y: none;
}