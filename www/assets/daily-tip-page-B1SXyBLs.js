import{a as A,d as T,r as o,y as E,z as q,j as e,k as R,by as F,bz as V,E as i,bA as l,C as m,f as x,aT as p,g as h,h as L,H as u,I as P}from"./index-DKFI7ZyH.js";import{B as d}from"./badge-CsDoxorc.js";import{T as B,a as M,b as g,c as j}from"./tabs-BarOwXjl.js";import{E as Q}from"./event-capture-layer-Dp7h4B9J.js";import{A as z}from"./arrow-left-BO9DtpKD.js";import{A as H}from"./arrow-right-RckSFs0h.js";function G(){const c=A();T();const[N,f]=o.useState("detalhes"),[v,y]=o.useState("detailed"),{data:a,isLoading:w,error:C}=E({queryKey:["/api/daily-tips/random"]}),D=q({mutationFn:async r=>(await P("POST",`/api/daily-tips/${r}/view`)).json(),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/daily-tips/unread"]})}});o.useEffect(()=>{a!=null&&a.id&&D.mutate(a.id)},[a==null?void 0:a.id]);const t=r=>{const s=new Date(r);return new Intl.DateTimeFormat("pt-BR",{day:"numeric",month:"long",year:"numeric"}).format(s)},b=r=>{const s=new Date(r),n=new Date;return s.getDate()===n.getDate()&&s.getMonth()===n.getMonth()&&s.getFullYear()===n.getFullYear()};if(w)return e.jsx("div",{className:"scroll-container-absolute hardware-accelerated-extreme ios-native-scroll-container",children:e.jsx("div",{className:"p-4 space-y-5 daily-tip-page ios-momentum-scroll ios-scroll-wrapper ios-events-contained",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(R,{className:"h-8 w-8 animate-spin text-primary"})})})});if(C||!a)return e.jsx("div",{className:"scroll-container-absolute hardware-accelerated-extreme ios-native-scroll-container",children:e.jsx("div",{className:"p-4 space-y-5 daily-tip-page ios-momentum-scroll ios-scroll-wrapper ios-events-contained",children:e.jsxs("div",{className:"bg-red-50 p-5 rounded-xl border border-red-200",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"Dica do Dia"}),e.jsx("p",{className:"text-red-700",children:"N√£o foi poss√≠vel carregar a dica do dia. Tente novamente mais tarde."})]})})});const k=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 rounded-2xl p-5 shadow-lg border border-primary/30",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"bg-primary rounded-full p-3 mr-3 shadow-lg",children:e.jsx(V,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-xl text-gray-900",children:"Dica do Dia"}),a.createdAt&&e.jsxs("p",{className:"text-xs text-gray-600 flex items-center mt-1",children:[e.jsx(i,{className:"h-3 w-3 mr-1"}),b(a.createdAt.toString())?"Hoje":t(a.createdAt.toString())]})]}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"text-xs font-medium text-primary-dark bg-primary/10 px-3 py-1.5 rounded-full border border-primary/20",children:a.category||"Bem-estar"})})]}),e.jsxs(B,{defaultValue:"detalhes",value:N,onValueChange:f,className:"w-full",children:[e.jsxs(M,{className:"grid w-full grid-cols-3 h-[45px] bg-background/50 p-1",children:[e.jsx(g,{value:"detalhes",className:"text-sm font-medium",children:"Detalhes"}),e.jsx(g,{value:"aplicacao",className:"text-sm font-medium",children:"Aplica√ß√£o"}),e.jsx(g,{value:"relacionadas",className:"text-sm font-medium",children:"Relacionadas"})]}),e.jsx(j,{value:"detalhes",className:"pt-4 mt-0",children:e.jsxs("div",{className:"bg-white rounded-xl p-5 border-l-4 border-l-primary-dark border-t border-r border-b border-gray-200 shadow-md",children:[e.jsx("h3",{className:"text-lg font-bold mb-3 text-gray-900 bg-gradient-to-r from-primary-dark/20 to-transparent px-3 py-2 rounded-lg",children:a.title}),e.jsx("div",{className:"text-[15px] text-gray-800 leading-relaxed tracking-wide px-3",children:e.jsx("p",{className:"whitespace-pre-line",children:a.content})}),a.tags&&a.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-4 px-3",children:a.tags.map((r,s)=>e.jsx("span",{className:"bg-primary-dark/20 text-primary-dark text-xs font-medium px-3 py-1.5 rounded-full shadow-sm border border-primary-dark/20",children:r},s))}),a.sources&&a.sources.length>0&&e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200 bg-gray-50 mx-3 px-3 py-2 rounded-b-lg",children:e.jsxs("p",{className:"text-xs text-gray-600 font-medium flex items-center",children:[e.jsx("span",{className:"mr-1",children:"üîç"}),"Fonte: ",a.sources[0]]})})]})}),e.jsx(j,{value:"aplicacao",className:"pt-4 mt-0",children:e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-md",children:[e.jsx("h3",{className:"text-lg font-bold mb-3 text-gray-900",children:"Aplicando na sua vida"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-primary/5 p-4 rounded-lg border border-primary/20",children:[e.jsx("h4",{className:"font-medium text-primary-dark mb-2",children:"Reflex√£o"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Pense sobre como esta dica se relaciona com sua vida atual. Quais aspectos ressoam mais profundamente com voc√™?"})]}),e.jsxs("div",{className:"bg-primary/5 p-4 rounded-lg border border-primary/20",children:[e.jsx("h4",{className:"font-medium text-primary-dark mb-2",children:"Pr√°tica Di√°ria"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Escolha um pequeno h√°bito relacionado a esta dica que voc√™ possa implementar nos pr√≥ximos dias. Comece com algo simples e alcan√ß√°vel."})]}),e.jsxs("div",{className:"bg-primary/5 p-4 rounded-lg border border-primary/20",children:[e.jsx("h4",{className:"font-medium text-primary-dark mb-2",children:"Compartilhe"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Considere compartilhar esta reflex√£o com um amigo ou no seu grupo de apoio. Discutir insights pode aprofundar sua compreens√£o."})]})]})]})}),e.jsx(j,{value:"relacionadas",className:"pt-4 mt-0",children:e.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-md",children:[e.jsx("h3",{className:"text-lg font-bold mb-3 text-gray-900",children:"Dicas Relacionadas"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 border border-gray-100 rounded-lg bg-gray-50",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:"Pr√°ticas de Autocompaix√£o"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Aprenda a tratar a si mesmo com a mesma gentileza que ofereceria a um bom amigo."})]}),e.jsxs("div",{className:"p-3 border border-gray-100 rounded-lg bg-gray-50",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:"T√©cnicas de Respira√ß√£o para Ansiedade"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Exerc√≠cios respirat√≥rios que podem ajudar a acalmar mente e corpo em momentos de tens√£o."})]}),e.jsxs("div",{className:"p-3 border border-gray-100 rounded-lg bg-gray-50",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:"Construindo Resili√™ncia Emocional"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Estrat√©gias para desenvolver a capacidade de se recuperar de adversidades."})]})]})]})})]})]}),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsxs(l,{className:"text-xs font-medium",iosStyle:"outline",onClick:()=>y("compact"),children:[e.jsx(z,{className:"h-3.5 w-3.5 mr-1"}),"Ver lista de dicas"]}),e.jsxs(l,{className:"text-xs font-medium",iosStyle:"filled",onClick:()=>c.invalidateQueries({queryKey:["/api/daily-tips/random"]}),children:["Pr√≥xima dica",e.jsx(H,{className:"h-3.5 w-3.5 ml-1"})]})]})]}),S=()=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dicas do Dia"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Recomenda√ß√µes personalizadas para seu bem-estar"})]})}),e.jsxs(m,{className:"shadow-md hover:shadow-lg transition-shadow border-l-4 border-l-primary mb-4",children:[e.jsx(x,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(p,{className:"text-xl text-primary-dark",children:a.title}),e.jsxs(h,{className:"flex items-center mt-1",children:[e.jsx(i,{className:"h-4 w-4 mr-1"}),b(a.createdAt.toString())?"Hoje":t(a.createdAt.toString())]})]}),e.jsx(d,{variant:"outline",className:"bg-primary/5",children:a.category})]})}),e.jsxs(L,{children:[e.jsx("div",{className:"prose max-w-none",children:e.jsx("p",{className:"whitespace-pre-line line-clamp-3",children:a.content})}),a.tags&&a.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:a.tags.map((r,s)=>e.jsx(d,{variant:"secondary",className:"bg-gray-100 text-gray-700",children:r},s))})]}),e.jsxs(u,{className:"flex justify-between border-t pt-4",children:[e.jsx(l,{className:"text-xs font-medium",iosStyle:"outline",onClick:()=>c.invalidateQueries({queryKey:["/api/daily-tips/random"]}),children:"Pr√≥xima dica"}),e.jsx(l,{className:"text-xs font-medium",iosStyle:"filled",onClick:()=>y("detailed"),children:"Ver detalhes"})]})]}),e.jsxs("div",{className:"space-y-4 mt-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Dicas populares"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(m,{className:"hover:shadow-md transition-shadow",children:[e.jsx(x,{className:"py-3",children:e.jsx(p,{className:"text-base",children:"T√©cnicas de respira√ß√£o para reduzir a ansiedade"})}),e.jsxs(u,{className:"py-3 border-t flex justify-between",children:[e.jsx(d,{variant:"outline",className:"bg-gray-50",children:"Bem-estar"}),e.jsxs(h,{className:"text-xs",children:[e.jsx(i,{className:"h-3 w-3 inline mr-1"}),t(new Date().toString())]})]})]}),e.jsxs(m,{className:"hover:shadow-md transition-shadow",children:[e.jsx(x,{className:"py-3",children:e.jsx(p,{className:"text-base",children:"Construindo h√°bitos saud√°veis para o sono"})}),e.jsxs(u,{className:"py-3 border-t flex justify-between",children:[e.jsx(d,{variant:"outline",className:"bg-gray-50",children:"Sa√∫de"}),e.jsxs(h,{className:"text-xs",children:[e.jsx(i,{className:"h-3 w-3 inline mr-1"}),t(new Date().toString())]})]})]})]})]})]});return e.jsx(Q,{children:e.jsx(F,{className:"scroll-container-absolute hardware-accelerated-extreme ios-native-scroll-container ios-touch-fix",forceEnable:!0,enableScrollFix:!0,debug:!1,children:e.jsx("div",{className:"p-4 space-y-5 daily-tip-page ios-momentum-scroll ios-scroll-wrapper ios-events-contained ios-touch-fix",children:v==="detailed"?k():S()})})})}export{G as default};
