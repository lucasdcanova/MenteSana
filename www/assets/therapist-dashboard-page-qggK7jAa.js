import{c as Ke,b8 as P,b9 as _e,r as z,j as e,w as X,B as O,A as G,E as he,L as K,ba as Je,bb as $e,K as xe,C as b,f as D,aT as T,b5 as Ze,h as N,i as Ce,P as es,u as ss,b as ts,y as se,I as te,b2 as ve,g as M}from"./index-DKFI7ZyH.js";import{T as as,a as rs,b as je,c as fe}from"./tabs-BarOwXjl.js";import{P as ns}from"./phone-1GZSxC6s.js";import{C as is,s as ls}from"./calendar-35st2irS.js";import{C as Pe}from"./chevron-right-Bo6uQhrt.js";import{i as be}from"./isSameDay-BgnmRS2q.js";import{V as ds}from"./video-CdR5eL6v.js";import{f as ae,L as de,m as pe,i as ne,C as Ne,A as cs,a as re,b as Me,c as os,d as Oe,h as ms,e as hs,G as xs,g as Ee,j as Fe,k as De,D as us,u as js,l as fs,X as Y,Y as U,n as ps,R as H,o as Ve,p as J,T as q,q as Z,r as ce,s as we,t as gs,B as ge,v as W,P as ke,w as Re,x as ze}from"./PieChart-CWtOxhx0.js";import{T as ys}from"./trending-up-CxFJ2zAi.js";import{S as vs}from"./star-CCvH2jAr.js";import"./addDays--7OLxFs-.js";import"./endOfMonth-D7azNT7e.js";import"./isBefore-Dqtm-g72.js";import"./index-8bUWoaaI.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Ke("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=Ke("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);var ws=["layout","type","stroke","connectNulls","isRange","ref"],As=["key"],Ie;function ie(s){"@babel/helpers - typeof";return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(s)}function He(s,t){if(s==null)return{};var a=Cs(s,t),r,i;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(s);for(i=0;i<m.length;i++)r=m[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(s,r)&&(a[r]=s[r])}return a}function Cs(s,t){if(s==null)return{};var a={};for(var r in s)if(Object.prototype.hasOwnProperty.call(s,r)){if(t.indexOf(r)>=0)continue;a[r]=s[r]}return a}function ee(){return ee=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},ee.apply(this,arguments)}function Le(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable})),a.push.apply(a,r)}return a}function Q(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Le(Object(a),!0).forEach(function(r){I(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):Le(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function Ps(s,t){if(!(s instanceof t))throw new TypeError("Cannot call a class as a function")}function Be(s,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(s,Ge(r.key),r)}}function Ds(s,t,a){return t&&Be(s.prototype,t),a&&Be(s,a),Object.defineProperty(s,"prototype",{writable:!1}),s}function Ts(s,t,a){return t=ye(t),Ss(s,qe()?Reflect.construct(t,a||[],ye(s).constructor):t.apply(s,a))}function Ss(s,t){if(t&&(ie(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ms(s)}function Ms(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function qe(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qe=function(){return!!s})()}function ye(s){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},ye(s)}function Os(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(t&&t.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),t&&Te(s,t)}function Te(s,t){return Te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Te(s,t)}function I(s,t,a){return t=Ge(t),t in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Ge(s){var t=Es(s,"string");return ie(t)=="symbol"?t:t+""}function Es(s,t){if(ie(s)!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var r=a.call(s,t||"default");if(ie(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}var $=function(s){function t(){var a;Ps(this,t);for(var r=arguments.length,i=new Array(r),m=0;m<r;m++)i[m]=arguments[m];return a=Ts(this,t,[].concat(i)),I(a,"state",{isAnimationFinished:!0}),I(a,"id",js("recharts-area-")),I(a,"handleAnimationEnd",function(){var d=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),De(d)&&d()}),I(a,"handleAnimationStart",function(){var d=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),De(d)&&d()}),a}return Os(t,s),Ds(t,[{key:"renderDots",value:function(r,i,m){var d=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(d&&!u)return null;var l=this.props,j=l.dot,o=l.points,h=l.dataKey,p=ae(this.props,!1),w=ae(j,!0),f=o.map(function(g,y){var S=Q(Q(Q({key:"dot-".concat(y),r:3},p),w),{},{index:y,cx:g.x,cy:g.y,dataKey:h,value:g.value,payload:g.payload,points:o});return t.renderDotItem(j,S)}),c={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(m,")"):null};return P.createElement(de,ee({className:"recharts-area-dots"},c),f)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,m=i.baseLine,d=i.points,u=i.strokeWidth,l=d[0].x,j=d[d.length-1].x,o=r*Math.abs(l-j),h=pe(d.map(function(p){return p.y||0}));return ne(m)&&typeof m=="number"?h=Math.max(m,h):m&&Array.isArray(m)&&m.length&&(h=Math.max(pe(m.map(function(p){return p.y||0})),h)),ne(h)?P.createElement("rect",{x:l<j?l:l-o,y:0,width:o,height:Math.floor(h+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,m=i.baseLine,d=i.points,u=i.strokeWidth,l=d[0].y,j=d[d.length-1].y,o=r*Math.abs(l-j),h=pe(d.map(function(p){return p.x||0}));return ne(m)&&typeof m=="number"?h=Math.max(m,h):m&&Array.isArray(m)&&m.length&&(h=Math.max(pe(m.map(function(p){return p.x||0})),h)),ne(h)?P.createElement("rect",{x:0,y:l<j?l:l-o,width:h+(u?parseInt("".concat(u),10):1),height:Math.floor(o)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,m,d){var u=this.props,l=u.layout,j=u.type,o=u.stroke,h=u.connectNulls,p=u.isRange;u.ref;var w=He(u,ws);return P.createElement(de,{clipPath:m?"url(#clipPath-".concat(d,")"):null},P.createElement(Ne,ee({},ae(w,!0),{points:r,connectNulls:h,type:j,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),o!=="none"&&P.createElement(Ne,ee({},ae(this.props,!1),{className:"recharts-area-curve",layout:l,type:j,connectNulls:h,fill:"none",points:r})),o!=="none"&&p&&P.createElement(Ne,ee({},ae(this.props,!1),{className:"recharts-area-curve",layout:l,type:j,connectNulls:h,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var m=this,d=this.props,u=d.points,l=d.baseLine,j=d.isAnimationActive,o=d.animationBegin,h=d.animationDuration,p=d.animationEasing,w=d.animationId,f=this.state,c=f.prevPoints,g=f.prevBaseLine;return P.createElement(cs,{begin:o,duration:h,isActive:j,easing:p,from:{t:0},to:{t:1},key:"area-".concat(w),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var S=y.t;if(c){var L=c.length/u.length,v=u.map(function(F,A){var n=Math.floor(A*L);if(c[n]){var x=c[n],k=re(x.x,F.x),_=re(x.y,F.y);return Q(Q({},F),{},{x:k(S),y:_(S)})}return F}),C;if(ne(l)&&typeof l=="number"){var E=re(g,l);C=E(S)}else if(Me(l)||os(l)){var R=re(g,0);C=R(S)}else C=l.map(function(F,A){var n=Math.floor(A*L);if(g[n]){var x=g[n],k=re(x.x,F.x),_=re(x.y,F.y);return Q(Q({},F),{},{x:k(S),y:_(S)})}return F});return m.renderAreaStatically(v,C,r,i)}return P.createElement(de,null,P.createElement("defs",null,P.createElement("clipPath",{id:"animationClipPath-".concat(i)},m.renderClipRect(S))),P.createElement(de,{clipPath:"url(#animationClipPath-".concat(i,")")},m.renderAreaStatically(u,l,r,i)))})}},{key:"renderArea",value:function(r,i){var m=this.props,d=m.points,u=m.baseLine,l=m.isAnimationActive,j=this.state,o=j.prevPoints,h=j.prevBaseLine,p=j.totalLength;return l&&d&&d.length&&(!o&&p>0||!Oe(o,d)||!Oe(h,u))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(d,u,r,i)}},{key:"render",value:function(){var r,i=this.props,m=i.hide,d=i.dot,u=i.points,l=i.className,j=i.top,o=i.left,h=i.xAxis,p=i.yAxis,w=i.width,f=i.height,c=i.isAnimationActive,g=i.id;if(m||!u||!u.length)return null;var y=this.state.isAnimationFinished,S=u.length===1,L=_e("recharts-area",l),v=h&&h.allowDataOverflow,C=p&&p.allowDataOverflow,E=v||C,R=Me(g)?this.id:g,F=(r=ae(d,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},A=F.r,n=A===void 0?3:A,x=F.strokeWidth,k=x===void 0?2:x,_=ms(d)?d:{},V=_.clipDot,ue=V===void 0?!0:V,le=n*2+k;return P.createElement(de,{className:L},v||C?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(R)},P.createElement("rect",{x:v?o:o-w/2,y:C?j:j-f/2,width:v?w:w*2,height:C?f:f*2})),!ue&&P.createElement("clipPath",{id:"clipPath-dots-".concat(R)},P.createElement("rect",{x:o-le/2,y:j-le/2,width:w+le,height:f+le}))):null,S?null:this.renderArea(E,R),(d||S)&&this.renderDots(E,ue,R),(!c||y)&&hs.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(z.PureComponent);Ie=$;I($,"displayName","Area");I($,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!xs.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});I($,"getBaseValue",function(s,t,a,r){var i=s.layout,m=s.baseValue,d=t.props.baseValue,u=d??m;if(ne(u)&&typeof u=="number")return u;var l=i==="horizontal"?r:a,j=l.scale.domain();if(l.type==="number"){var o=Math.max(j[0],j[1]),h=Math.min(j[0],j[1]);return u==="dataMin"?h:u==="dataMax"||o<0?o:Math.max(Math.min(j[0],j[1]),0)}return u==="dataMin"?j[0]:u==="dataMax"?j[1]:j[0]});I($,"getComposedData",function(s){var t=s.props,a=s.item,r=s.xAxis,i=s.yAxis,m=s.xAxisTicks,d=s.yAxisTicks,u=s.bandSize,l=s.dataKey,j=s.stackedData,o=s.dataStartIndex,h=s.displayedData,p=s.offset,w=t.layout,f=j&&j.length,c=Ie.getBaseValue(t,a,r,i),g=w==="horizontal",y=!1,S=h.map(function(v,C){var E;f?E=j[o+C]:(E=Ee(v,l),Array.isArray(E)?y=!0:E=[c,E]);var R=E[1]==null||f&&Ee(v,l)==null;return g?{x:Fe({axis:r,ticks:m,bandSize:u,entry:v,index:C}),y:R?null:i.scale(E[1]),value:E,payload:v}:{x:R?null:r.scale(E[1]),y:Fe({axis:i,ticks:d,bandSize:u,entry:v,index:C}),value:E,payload:v}}),L;return f||y?L=S.map(function(v){var C=Array.isArray(v.value)?v.value[0]:null;return g?{x:v.x,y:C!=null&&v.y!=null?i.scale(C):null}:{x:C!=null?r.scale(C):null,y:v.y}}):L=g?i.scale(c):r.scale(c),Q({points:S,baseLine:L,layout:w,isRange:y},p)});I($,"renderDotItem",function(s,t){var a;if(P.isValidElement(s))a=P.cloneElement(s,t);else if(De(s))a=s(t);else{var r=_e("recharts-area-dot",typeof s!="boolean"?s.className:""),i=t.key,m=He(t,As);a=P.createElement(us,ee({},m,{key:i,className:r}))}return a});var Fs=fs({chartName:"AreaChart",GraphicalChild:$,axisComponents:[{axisType:"xAxis",AxisComp:Y},{axisType:"yAxis",AxisComp:U}],formatAxisMap:ps});const We=z.forwardRef(({className:s,...t},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:X("w-full caption-bottom text-sm",s),...t})}));We.displayName="Table";const Qe=z.forwardRef(({className:s,...t},a)=>e.jsx("thead",{ref:a,className:X("[&_tr]:border-b",s),...t}));Qe.displayName="TableHeader";const Ye=z.forwardRef(({className:s,...t},a)=>e.jsx("tbody",{ref:a,className:X("[&_tr:last-child]:border-0",s),...t}));Ye.displayName="TableBody";const ks=z.forwardRef(({className:s,...t},a)=>e.jsx("tfoot",{ref:a,className:X("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...t}));ks.displayName="TableFooter";const Se=z.forwardRef(({className:s,...t},a)=>e.jsx("tr",{ref:a,className:X("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...t}));Se.displayName="TableRow";const oe=z.forwardRef(({className:s,...t},a)=>e.jsx("th",{ref:a,className:X("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...t}));oe.displayName="TableHead";const me=z.forwardRef(({className:s,...t},a)=>e.jsx("td",{ref:a,className:X("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...t}));me.displayName="TableCell";const Rs=z.forwardRef(({className:s,...t},a)=>e.jsx("caption",{ref:a,className:X("mt-4 text-sm text-muted-foreground",s),...t}));Rs.displayName="TableCaption";function zs({patients:s,isLoading:t}){return t?e.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-emerald-500 rounded-full border-t-transparent"})}):!s||s.length===0?e.jsxs("div",{className:"text-center p-8 border rounded-lg bg-white",children:[e.jsx("p",{className:"text-emerald-700 mb-4",children:"Nenhum paciente encontrado"}),e.jsx(O,{className:"bg-emerald-600 hover:bg-emerald-700",children:"Adicionar Novo Paciente"})]}):e.jsx("div",{className:"bg-white rounded-lg border overflow-hidden",children:e.jsxs(We,{children:[e.jsx(Qe,{children:e.jsxs(Se,{children:[e.jsx(oe,{children:"Paciente"}),e.jsx(oe,{children:"Data de Cadastro"}),e.jsx(oe,{children:"Próxima Sessão"}),e.jsx(oe,{className:"text-right",children:"Ações"})]})}),e.jsx(Ye,{children:s.map(a=>e.jsxs(Se,{children:[e.jsx(me,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-10 h-10 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-700",children:[a.firstName[0],a.lastName[0]]}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[a.firstName," ",a.lastName]}),e.jsx("div",{className:"text-xs text-gray-500",children:a.email})]})]})}),e.jsx(me,{children:G(new Date(a.createdAt),"PP",{locale:xe})}),e.jsx(me,{children:e.jsxs("div",{className:"flex items-center text-emerald-600",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:"Não agendada"})]})}),e.jsx(me,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(O,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(K,{href:`/patient-progress/${a.id}`,children:[e.jsx(Je,{className:"h-4 w-4 mr-1"}),"Progresso"]})}),e.jsx(O,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(K,{href:`/patient-notes/${a.id}`,children:[e.jsx($e,{className:"h-4 w-4 mr-1"}),"Notas"]})}),e.jsx(O,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(K,{href:`/video-call/${a.id}`,children:[e.jsx(ns,{className:"h-4 w-4 mr-1"}),"Chamar"]})})]})})]},a.id))})]})})}function Ls({sessions:s,isLoading:t,onDateSelect:a}){const[r,i]=z.useState(new Date),[m,d]=z.useState(new Date),u=c=>{if(!c)return!1;const g=new Date(c);return g instanceof Date&&!isNaN(g.getTime())},l=c=>u(c)?new Date(c):null,j=c=>!c||!(s!=null&&s.length)?!1:s.some(g=>{const y=l(g.scheduledFor);return y&&be(y,c)}),o=c=>!c||!(s!=null&&s.length)?0:s.filter(g=>{const y=l(g.scheduledFor);return y&&be(y,c)}).length||0,h=c=>!c||!(s!=null&&s.length)?[]:s.filter(g=>{const y=l(g.scheduledFor);return y&&be(y,c)})||[],p=c=>{c&&(i(c),a&&a(c))},w=()=>{const c=new Date(m);c.setMonth(c.getMonth()+1),d(c)},f=()=>{const c=new Date(m);c.setMonth(c.getMonth()-1),d(c)};return t?e.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-emerald-500 rounded-full border-t-transparent"})}):e.jsxs(b,{children:[e.jsx(D,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(T,{children:"Calendário de Sessões"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(O,{variant:"outline",size:"icon",onClick:f,children:e.jsx(Ze,{className:"h-4 w-4"})}),e.jsx(O,{variant:"outline",size:"icon",onClick:w,children:e.jsx(Pe,{className:"h-4 w-4"})})]})]})}),e.jsxs(N,{children:[e.jsx(is,{mode:"single",selected:r,onSelect:p,month:m,onMonthChange:d,locale:xe,className:"rounded-md border",modifiers:{hasSession:c=>j(c)},modifiersClassNames:{hasSession:"bg-emerald-100 text-emerald-900 font-medium hover:bg-emerald-200"},components:{Day:({date:c,displayMonth:g,activeModifiers:y,selected:S,disabled:L,hidden:v,...C})=>{if(!(c instanceof Date&&!isNaN(c.getTime())))return console.warn("Data inválida recebida no componente Day:",c),e.jsx("div",{...C,children:"-"});const R=o(c),F=g&&c.getMonth()!==g.getMonth();return e.jsx("div",{className:"relative w-full h-full",children:e.jsxs("div",{...C,children:[G(c,"d"),R>0&&!F&&e.jsx("div",{className:"absolute top-0 right-0 h-2 w-2 bg-emerald-500 rounded-full"})]})})}}}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("h3",{className:"font-medium mb-2",children:["Sessões em ",G(r,"PP",{locale:xe})]}),h(r).length>0?e.jsx("div",{className:"space-y-2",children:h(r).map(c=>e.jsxs("div",{className:"p-2 bg-emerald-50 border border-emerald-100 rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:u(c.scheduledFor)?G(new Date(c.scheduledFor),"HH:mm"):"Horário não especificado"}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${c.status==="completed"?"bg-green-100 text-green-800":c.status==="canceled"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:c.status==="completed"?"Concluída":c.status==="canceled"?"Cancelada":"Agendada"})]}),e.jsxs("div",{className:"text-sm mt-1",children:["Paciente: ",c.userId]})]},c.id))}):e.jsx("div",{className:"text-center p-4 text-gray-500 bg-gray-50 rounded-md",children:"Nenhuma sessão agendada para esta data"})]})]})]})}function Ae({session:s}){const t=new Date(s.scheduledFor),a=G(t,"PP",{locale:xe}),r=G(t,"HH:mm"),i=Math.floor(s.duration/60),m=s.duration%60,d=`${i}h${m>0?` ${m}min`:""}`,u={completed:"bg-green-100 text-green-800",scheduled:"bg-blue-100 text-blue-800",canceled:"bg-red-100 text-red-800"},l={completed:"Concluída",scheduled:"Agendada",canceled:"Cancelada"},j=()=>{const o=new Date;return t.getDate()===o.getDate()&&t.getMonth()===o.getMonth()&&t.getFullYear()===o.getFullYear()};return e.jsxs(b,{className:"overflow-hidden border",children:[e.jsx("div",{className:`h-2 w-full ${s.status==="completed"?"bg-green-500":s.status==="canceled"?"bg-red-500":"bg-blue-500"}`}),e.jsxs(N,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between mb-3",children:[e.jsx("div",{className:"font-medium",children:s.therapistName||"Terapeuta não especificado"}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${u[s.status]}`,children:l[s.status]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex text-sm text-gray-500 items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:a}),j()&&e.jsx("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full",children:"Hoje"})]}),e.jsxs("div",{className:"flex text-sm text-gray-500 items-center",children:[e.jsx(Ce,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:[r," (",d,")"]})]}),s.notes&&e.jsxs("div",{className:"text-sm text-gray-600 line-clamp-2 italic",children:['"',s.notes,'"']})]}),e.jsxs("div",{className:"flex space-x-2",children:[s.status==="scheduled"&&e.jsx(O,{size:"sm",asChild:!0,children:e.jsxs(K,{href:`/video-call/${s.id}`,children:[e.jsx(ds,{className:"h-4 w-4 mr-1"}),"Entrar"]})}),e.jsx(O,{size:"sm",variant:"outline",asChild:!0,children:e.jsxs(K,{href:`/session-notes/${s.id}`,children:[e.jsx($e,{className:"h-4 w-4 mr-1"}),"Notas"]})})]})]})]})}function Bs({patient:s,progressData:t,isLoading:a}){if(a)return e.jsxs(b,{children:[e.jsx(D,{children:e.jsx(T,{children:"Progresso do Paciente"})}),e.jsx(N,{children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-emerald-500 rounded-full border-t-transparent"})})})]});const r=t==null?void 0:t.reduce((o,h)=>(o[h.category]||(o[h.category]=[]),o[h.category].push(h),o),{}),i=r?Object.entries(r).reduce((o,[h,p])=>{const w=[...p].sort((f,c)=>new Date(c.date).getTime()-new Date(f.date).getTime());return o[h]=w[0].value,o},{}):{},d=(()=>{if(!t)return[];const o=t.reduce((h,p)=>{const w=G(new Date(p.date),"dd/MM/yy");return h[w]||(h[w]={date:w}),h[w][p.category]=p.value,h},{});return Object.values(o).sort((h,p)=>{const w=new Date(h.date.split("/").reverse().join("/")),f=new Date(p.date.split("/").reverse().join("/"));return w.getTime()-f.getTime()})})(),u=r?Object.keys(r):[],l=["#0088FE","#00C49F","#FFBB28","#FF8042","#A569BD","#5DADE2"],j=d.length>0;return e.jsxs(b,{children:[e.jsx(D,{children:e.jsxs(T,{children:["Progresso de ",s.firstName," ",s.lastName]})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Progresso Atual"}),Object.entries(i).length>0?e.jsx(e.Fragment,{children:Object.entries(i).map(([o,h],p)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:o}),e.jsxs("span",{className:"text-sm font-medium",children:[h,"%"]})]}),e.jsx(es,{value:h,className:"h-2",indicatorClassName:`bg-[${l[p%l.length]}]`})]},o))}):e.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:"Nenhum dado de progresso disponível para este paciente"})]}),j?e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium mb-4",children:"Evolução ao Longo do Tempo"}),e.jsx(H,{width:"100%",height:200,children:e.jsxs(Ve,{data:d,children:[e.jsx(J,{strokeDasharray:"3 3"}),e.jsx(Y,{dataKey:"date"}),e.jsx(U,{domain:[0,100]}),e.jsx(q,{}),e.jsx(Z,{}),u.map((o,h)=>e.jsx(ce,{type:"monotone",dataKey:o,stroke:l[h%l.length],activeDot:{r:8}},o))]})})]}):e.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:"Dados históricos insuficientes para exibir o gráfico"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:(t==null?void 0:t.length)||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Atualizações"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:Object.keys(r||{}).length}),e.jsx("div",{className:"text-xs text-gray-500",children:"Categorias"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-emerald-600",children:[t&&t.length>0?Math.round(t.reduce((o,h)=>o+h.value,0)/t.length):0,"%"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Média Geral"})]})]})]})})]})}const B=["#0088FE","#00C49F","#FFBB28","#FF8042","#A569BD","#5DADE2"],Ks={Feliz:"#00C49F",Triste:"#0088FE",Ansioso:"#FFBB28",Irritado:"#FF8042",Calmo:"#A569BD",Neutro:"#5DADE2"};function et(){const{user:s}=ss(),{toast:t}=ts(),[a,r]=z.useState("overview"),[i,m]=z.useState("month");z.useEffect(()=>{s&&!s.isTherapist&&t({title:"Acesso negado",description:"Você não tem permissão para acessar esta página",variant:"destructive"})},[s,t]);const{data:d,isLoading:u}=se({queryKey:["/api/therapist/patients"],queryFn:async()=>await(await te("GET","/api/therapist/patients")).json(),enabled:!!(s!=null&&s.isTherapist)}),{data:l,isLoading:j}=se({queryKey:["/api/therapist/sessions"],queryFn:async()=>await(await te("GET","/api/therapist/sessions")).json(),enabled:!!(s!=null&&s.isTherapist)}),{data:o,isLoading:h}=se({queryKey:["/api/therapist/reviews"],queryFn:async()=>await(await te("GET","/api/therapist/reviews")).json(),enabled:!!(s!=null&&s.isTherapist)}),{data:p,isLoading:w}=se({queryKey:["/api/therapist/progress"],queryFn:async()=>await(await te("GET","/api/therapist/progress")).json(),enabled:!!(s!=null&&s.isTherapist)}),{data:f,isLoading:c}=se({queryKey:["/api/therapist/journal-data"],queryFn:async()=>await(await te("GET","/api/therapist/journal-data")).json(),enabled:!!(s!=null&&s.isTherapist)});se({queryKey:["/api/therapist/profile"],queryFn:async()=>await(await te("GET","/api/therapist/profile")).json(),enabled:!!(s!=null&&s.isTherapist)});const g=l==null?void 0:l.filter(n=>new Date(n.scheduledFor)<=new Date).sort((n,x)=>new Date(x.scheduledFor).getTime()-new Date(n.scheduledFor).getTime()).slice(0,5),y=l==null?void 0:l.filter(n=>new Date(n.scheduledFor)>new Date&&n.status!=="canceled").sort((n,x)=>new Date(n.scheduledFor).getTime()-new Date(x.scheduledFor).getTime()).slice(0,5),S=Array(12).fill(0).map((n,x)=>({month:G(new Date(2023,x,1),"MMM",{locale:xe}),completed:Math.round(Math.random()*15),scheduled:Math.round(Math.random()*10),canceled:Math.round(Math.random()*5)})),L=[{name:"Feliz",value:(f==null?void 0:f.filter(n=>n.mood==="Feliz").length)||5},{name:"Triste",value:(f==null?void 0:f.filter(n=>n.mood==="Triste").length)||3},{name:"Ansioso",value:(f==null?void 0:f.filter(n=>n.mood==="Ansioso").length)||8},{name:"Irritado",value:(f==null?void 0:f.filter(n=>n.mood==="Irritado").length)||2},{name:"Calmo",value:(f==null?void 0:f.filter(n=>n.mood==="Calmo").length)||4},{name:"Neutro",value:(f==null?void 0:f.filter(n=>n.mood==="Neutro").length)||6}],v=p==null?void 0:p.reduce((n,x)=>(n[x.category]||(n[x.category]={category:x.category,patients:new Set,averageValue:0,totalEntries:0,values:[]}),n[x.category].patients.add(x.userId),n[x.category].values.push(x.value),n[x.category].totalEntries++,n),{});v&&Object.keys(v).forEach(n=>{const x=v[n].values.reduce((k,_)=>k+_,0);v[n].averageValue=Math.round(x/v[n].values.length)});const C=v?Object.values(v).map(n=>({name:n.category,average:n.averageValue,patients:n.patients.size})):[],R=(()=>{const n=[],x=["Anxiety Management","Stress Reduction","Sleep Quality","Mood Stability"];for(let k=30;k>0;k--){const _=ls(new Date,k),V={date:G(_,"dd/MM"),fullDate:_};x.forEach(ue=>{const Ue=(30-k)/2,Xe=Math.random()*10-5;V[ue]=Math.max(0,Math.min(100,Math.round(50+Ue+Xe)))}),n.push(V)}return n})(),F=[];if(d&&f)for(const n of d.slice(0,5)){const x=f.filter(k=>k.userId===n.id);F.push({name:`${n.firstName} ${n.lastName}`,entries:x.length,lastEntry:x.length>0?Math.round((new Date().getTime()-new Date(x[0].date).getTime())/(1e3*60*60*24)):null})}const A={totalPatients:(d==null?void 0:d.length)||0,activePatients:(d==null?void 0:d.filter(n=>{const x=l==null?void 0:l.filter(V=>V.userId===n.id&&V.status==="completed");if(!(x!=null&&x.length))return!1;const k=new Date(Math.max(...x.map(V=>new Date(V.scheduledFor).getTime())));return Math.round((new Date().getTime()-k.getTime())/(1e3*60*60*24))<=30}).length)||0,totalSessions:(l==null?void 0:l.length)||0,completedSessions:(l==null?void 0:l.filter(n=>n.status==="completed").length)||0,upcomingSessions:(l==null?void 0:l.filter(n=>new Date(n.scheduledFor)>new Date&&n.status!=="canceled").length)||0,averageRating:o!=null&&o.length?Math.round(o.reduce((n,x)=>n+x.rating,0)/o.length*10)/10:0};return s&&!s.isTherapist?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Acesso Restrito"}),e.jsx("p",{className:"mb-6",children:"Esta área é exclusiva para terapeutas."}),e.jsx(O,{asChild:!0,children:e.jsx(K,{href:"/",children:"Voltar para a página inicial"})})]})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-emerald-800 mb-2",children:"Dashboard do Terapeuta"}),e.jsx("p",{className:"text-emerald-600 mb-6",children:"Análise avançada de pacientes, sessões e progresso"}),e.jsxs(as,{defaultValue:"overview",value:a,onValueChange:r,className:"space-y-6",children:[e.jsxs(rs,{className:"grid grid-cols-4 md:w-[600px]",children:[e.jsxs(je,{value:"overview",className:"flex items-center",children:[e.jsx(bs,{className:"mr-2 h-4 w-4"}),"Visão Geral"]}),e.jsxs(je,{value:"patients",className:"flex items-center",children:[e.jsx(ve,{className:"mr-2 h-4 w-4"}),"Pacientes"]}),e.jsxs(je,{value:"sessions",className:"flex items-center",children:[e.jsx(he,{className:"mr-2 h-4 w-4"}),"Sessões"]}),e.jsxs(je,{value:"analytics",className:"flex items-center",children:[e.jsx(ys,{className:"mr-2 h-4 w-4"}),"Análises"]})]}),e.jsxs(fe,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(b,{children:e.jsxs(N,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total de Pacientes"}),e.jsx("h3",{className:"text-2xl font-bold mt-1",children:A.totalPatients})]}),e.jsx("div",{className:"h-10 w-10 bg-emerald-100 rounded-full flex items-center justify-center",children:e.jsx(ve,{className:"h-5 w-5 text-emerald-700"})})]}),e.jsxs("div",{className:"flex items-center mt-4 text-xs",children:[e.jsxs("div",{className:`flex items-center ${A.activePatients/A.totalPatients>.6?"text-green-600":"text-amber-600"}`,children:[A.activePatients/A.totalPatients>.6?e.jsx(we,{className:"h-3 w-3 mr-1"}):e.jsx(gs,{className:"h-3 w-3 mr-1"}),e.jsxs("span",{children:[Math.round(A.activePatients/A.totalPatients*100),"%"]})]}),e.jsx("span",{className:"text-muted-foreground ml-1",children:"pacientes ativos"})]})]})}),e.jsx(b,{children:e.jsxs(N,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Sessões Realizadas"}),e.jsx("h3",{className:"text-2xl font-bold mt-1",children:A.completedSessions})]}),e.jsx("div",{className:"h-10 w-10 bg-emerald-100 rounded-full flex items-center justify-center",children:e.jsx(Ce,{className:"h-5 w-5 text-emerald-700"})})]}),e.jsxs("div",{className:"flex items-center mt-4 text-xs",children:[e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(we,{className:"h-3 w-3 mr-1"}),e.jsxs("span",{children:[A.completedSessions?Math.round(A.completedSessions/A.totalSessions*100):0,"%"]})]}),e.jsx("span",{className:"text-muted-foreground ml-1",children:"taxa de conclusão"})]})]})}),e.jsx(b,{children:e.jsxs(N,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Sessões Agendadas"}),e.jsx("h3",{className:"text-2xl font-bold mt-1",children:A.upcomingSessions})]}),e.jsx("div",{className:"h-10 w-10 bg-emerald-100 rounded-full flex items-center justify-center",children:e.jsx(he,{className:"h-5 w-5 text-emerald-700"})})]}),e.jsx("div",{className:"flex items-center mt-4 text-xs text-muted-foreground",children:e.jsx("span",{children:"Nos próximos 30 dias"})})]})}),e.jsx(b,{children:e.jsxs(N,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avaliação Média"}),e.jsxs("h3",{className:"text-2xl font-bold mt-1",children:[A.averageRating," ",e.jsx("span",{className:"text-lg text-yellow-500",children:"★"})]})]}),e.jsx("div",{className:"h-10 w-10 bg-emerald-100 rounded-full flex items-center justify-center",children:e.jsx(vs,{className:"h-5 w-5 text-emerald-700"})})]}),e.jsx("div",{className:"flex items-center mt-4 text-xs text-muted-foreground",children:e.jsxs("span",{children:["Baseado em ",(o==null?void 0:o.length)||0," avaliações"]})})]})})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(T,{children:"Ações Rápidas"}),e.jsx(M,{children:"Acesso rápido às principais funções do sistema"})]}),e.jsx(N,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(O,{variant:"outline",className:"h-auto py-4 flex flex-col items-center justify-center",asChild:!0,children:e.jsxs(K,{href:"/therapist-availability",children:[e.jsx(Ce,{className:"h-6 w-6 mb-2 text-emerald-600"}),e.jsx("span",{className:"text-sm",children:"Gerenciar Disponibilidade"})]})}),e.jsx(O,{variant:"outline",className:"h-auto py-4 flex flex-col items-center justify-center",asChild:!0,children:e.jsxs(K,{href:"/schedule",children:[e.jsx(he,{className:"h-6 w-6 mb-2 text-emerald-600"}),e.jsx("span",{className:"text-sm",children:"Visualizar Agenda"})]})}),e.jsx(O,{variant:"outline",className:"h-auto py-4 flex flex-col items-center justify-center",asChild:!0,children:e.jsxs(K,{href:"/therapist-profile",children:[e.jsx(Ns,{className:"h-6 w-6 mb-2 text-emerald-600"}),e.jsx("span",{className:"text-sm",children:"Editar Perfil"})]})}),e.jsx(O,{variant:"outline",className:"h-auto py-4 flex flex-col items-center justify-center",asChild:!0,children:e.jsxs(K,{href:"/patients",children:[e.jsx(ve,{className:"h-6 w-6 mb-2 text-emerald-600"}),e.jsx("span",{className:"text-sm",children:"Ver Pacientes"})]})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(T,{children:"Sessões Mensais"}),e.jsx(M,{children:"Distribuição de sessões ao longo do ano"})]}),e.jsx(N,{children:e.jsx(H,{width:"100%",height:300,children:e.jsxs(ge,{data:S,children:[e.jsx(J,{strokeDasharray:"3 3"}),e.jsx(Y,{dataKey:"month"}),e.jsx(U,{}),e.jsx(q,{}),e.jsx(Z,{}),e.jsx(W,{dataKey:"completed",name:"Concluídas",fill:"#10b981"}),e.jsx(W,{dataKey:"scheduled",name:"Agendadas",fill:"#3b82f6"}),e.jsx(W,{dataKey:"canceled",name:"Canceladas",fill:"#f43f5e"})]})})})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(T,{children:"Distribuição de Humor"}),e.jsx(M,{children:"Análise de humor dos pacientes"})]}),e.jsx(N,{className:"flex justify-center",children:e.jsx(H,{width:"100%",height:300,children:e.jsxs(ke,{children:[e.jsx(Re,{data:L,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",label:({name:n,percent:x})=>`${n} ${(x*100).toFixed(0)}%`,children:L.map((n,x)=>e.jsx(ze,{fill:Ks[n.name]||B[x%B.length]},`cell-${x}`))}),e.jsx(q,{})]})})})]})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"pb-2",children:[e.jsx(T,{children:"Próximas Sessões"}),e.jsx(M,{children:"Sessões agendadas para os próximos dias"})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4",children:[j?e.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Carregando sessões..."}):y!=null&&y.length?y.map(n=>e.jsx(Ae,{session:n},n.id)):e.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Nenhuma sessão agendada"}),y!=null&&y.length?e.jsx("div",{className:"text-right mt-2",children:e.jsx(O,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs(K,{href:"/therapist/sessions",children:["Ver todas as sessões",e.jsx(Pe,{className:"h-4 w-4 ml-1"})]})})}):null]})})]}),e.jsxs(b,{children:[e.jsxs(D,{className:"pb-2",children:[e.jsx(T,{children:"Tendência de Progresso"}),e.jsx(M,{children:"Evolução média do progresso dos pacientes"})]}),e.jsx(N,{children:e.jsx(H,{width:"100%",height:300,children:e.jsxs(Fs,{data:R,children:[e.jsx("defs",{children:["Anxiety Management","Stress Reduction","Sleep Quality","Mood Stability"].map((n,x)=>e.jsxs("linearGradient",{id:`color${x}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:B[x%B.length],stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:B[x%B.length],stopOpacity:.1})]},`gradient-${x}`))}),e.jsx(Y,{dataKey:"date"}),e.jsx(U,{}),e.jsx(J,{strokeDasharray:"3 3"}),e.jsx(q,{}),e.jsx(Z,{}),e.jsx($,{type:"monotone",dataKey:"Anxiety Management",name:"Controle de Ansiedade",stroke:B[0],fillOpacity:1,fill:"url(#color0)"}),e.jsx($,{type:"monotone",dataKey:"Stress Reduction",name:"Redução de Estresse",stroke:B[1],fillOpacity:1,fill:"url(#color1)"}),e.jsx($,{type:"monotone",dataKey:"Sleep Quality",name:"Qualidade do Sono",stroke:B[2],fillOpacity:1,fill:"url(#color2)"}),e.jsx($,{type:"monotone",dataKey:"Mood Stability",name:"Estabilidade de Humor",stroke:B[3],fillOpacity:1,fill:"url(#color3)"})]})})})]})]}),e.jsxs(fe,{value:"patients",className:"space-y-6",children:[e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(T,{children:"Meus Pacientes"}),e.jsx(M,{children:"Gerenciamento e análise de pacientes"})]}),e.jsx(N,{children:u?e.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Carregando pacientes..."}):d!=null&&d.length?e.jsx(zs,{patients:d}):e.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Nenhum paciente encontrado"})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(T,{children:"Atividade dos Pacientes"}),e.jsx(M,{children:"Engajamento com diário e ferramentas de autoajuda"})]}),e.jsx(N,{children:e.jsx(H,{width:"100%",height:300,children:e.jsxs(ge,{data:F,layout:"vertical",children:[e.jsx(Y,{type:"number"}),e.jsx(U,{type:"category",dataKey:"name",width:100}),e.jsx(J,{strokeDasharray:"3 3"}),e.jsx(q,{}),e.jsx(Z,{}),e.jsx(W,{dataKey:"entries",name:"Entradas de Diário",fill:"#10b981"})]})})})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(T,{children:"Progresso por Categoria"}),e.jsx(M,{children:"Resultado médio de progresso por área"})]}),e.jsx(N,{children:e.jsx(H,{width:"100%",height:300,children:e.jsxs(ge,{data:C,children:[e.jsx(J,{strokeDasharray:"3 3"}),e.jsx(Y,{dataKey:"name"}),e.jsx(U,{}),e.jsx(q,{}),e.jsx(Z,{}),e.jsx(W,{dataKey:"average",name:"Média de Progresso",fill:"#10b981"}),e.jsx(W,{dataKey:"patients",name:"Pacientes Acompanhados",fill:"#3b82f6"})]})})})]})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(T,{children:"Progresso dos Pacientes"}),e.jsx(M,{children:"Evolução recente dos pacientes em tratamento"})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-6",children:[d==null?void 0:d.slice(0,3).map(n=>e.jsx(Bs,{patient:n},n.id)),d&&d.length>3&&e.jsx("div",{className:"text-right mt-2",children:e.jsx(O,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs(K,{href:"/therapist/patients",children:["Ver todos os pacientes",e.jsx(Pe,{className:"h-4 w-4 ml-1"})]})})})]})})]})]}),e.jsxs(fe,{value:"sessions",className:"space-y-6",children:[e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(T,{children:"Calendário de Sessões"}),e.jsx(M,{children:"Visualize e gerencie todas as suas sessões"})]}),e.jsx(N,{children:e.jsx(Ls,{sessions:l||[]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(T,{children:"Próximas Sessões"}),e.jsx(M,{children:"Sessões agendadas para os próximos dias"})]}),e.jsx(N,{children:e.jsx("div",{className:"space-y-4",children:j?e.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Carregando sessões..."}):y!=null&&y.length?y.map(n=>e.jsx(Ae,{session:n},n.id)):e.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Nenhuma sessão agendada"})})})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(T,{children:"Sessões Recentes"}),e.jsx(M,{children:"Últimas sessões realizadas"})]}),e.jsx(N,{children:e.jsx("div",{className:"space-y-4",children:j?e.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Carregando sessões..."}):g!=null&&g.length?g.map(n=>e.jsx(Ae,{session:n,isRecent:!0},n.id)):e.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Nenhuma sessão recente"})})})]})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(T,{children:"Estatísticas de Sessões"}),e.jsx(M,{children:"Análise de performance e agendamentos"})]}),e.jsx(N,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Taxa de Conclusão"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"text-2xl font-bold",children:[l!=null&&l.length?Math.round(A.completedSessions/A.totalSessions*100):0,"%"]}),e.jsxs("div",{className:"text-xs text-green-600 flex items-center",children:[e.jsx(we,{className:"h-3 w-3 mr-1"}),"5% vs. mês anterior"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-emerald-600 h-2 rounded-full",style:{width:`${l!=null&&l.length?Math.round(A.completedSessions/A.totalSessions*100):0}%`}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Duração Média"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("div",{className:"text-2xl font-bold",children:"50 min"})}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Baseado em ",A.completedSessions," sessões"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Dias Mais Ocupados"}),e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{children:"Segunda"}),e.jsx("span",{className:"font-medium",children:"28%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"bg-emerald-600 h-2 rounded-full",style:{width:"28%"}})}),e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{children:"Quarta"}),e.jsx("span",{className:"font-medium",children:"24%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"bg-emerald-600 h-2 rounded-full",style:{width:"24%"}})}),e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{children:"Sexta"}),e.jsx("span",{className:"font-medium",children:"22%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-emerald-600 h-2 rounded-full",style:{width:"22%"}})})]})]})]})})]})]}),e.jsxs(fe,{value:"analytics",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-emerald-800",children:"Análises Avançadas"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Insights detalhados sobre a saúde mental dos pacientes"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(O,{variant:i==="week"?"default":"outline",size:"sm",onClick:()=>m("week"),children:"Semana"}),e.jsx(O,{variant:i==="month"?"default":"outline",size:"sm",onClick:()=>m("month"),children:"Mês"}),e.jsx(O,{variant:i==="year"?"default":"outline",size:"sm",onClick:()=>m("year"),children:"Ano"})]})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(T,{children:"Tendência de Humor"}),e.jsx(M,{children:"Análise de humor dos pacientes ao longo do tempo"})]}),e.jsx(N,{children:e.jsx(H,{width:"100%",height:300,children:e.jsxs(Ve,{data:R,children:[e.jsx(J,{strokeDasharray:"3 3"}),e.jsx(Y,{dataKey:"date"}),e.jsx(U,{}),e.jsx(q,{}),e.jsx(Z,{}),e.jsx(ce,{type:"monotone",dataKey:"Anxiety Management",name:"Controle de Ansiedade",stroke:"#0088FE",activeDot:{r:8}}),e.jsx(ce,{type:"monotone",dataKey:"Stress Reduction",name:"Redução de Estresse",stroke:"#00C49F"}),e.jsx(ce,{type:"monotone",dataKey:"Sleep Quality",name:"Qualidade do Sono",stroke:"#FFBB28"}),e.jsx(ce,{type:"monotone",dataKey:"Mood Stability",name:"Estabilidade de Humor",stroke:"#FF8042"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(T,{children:"Categorias de Diário"}),e.jsx(M,{children:"Temas mais recorrentes nos registros dos pacientes"})]}),e.jsx(N,{children:e.jsx(H,{width:"100%",height:300,children:e.jsxs(ke,{children:[e.jsx(Re,{data:[{name:"Ansiedade",value:35},{name:"Família",value:25},{name:"Trabalho",value:20},{name:"Relacionamentos",value:15},{name:"Saúde",value:5}],cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",label:({name:n,percent:x})=>`${n} ${(x*100).toFixed(0)}%`,children:[0,1,2,3,4].map((n,x)=>e.jsx(ze,{fill:B[x%B.length]},`cell-${x}`))}),e.jsx(q,{})]})})})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(T,{children:"Eficácia de Tratamento"}),e.jsx(M,{children:"Métricas de melhoria por categoria"})]}),e.jsx(N,{children:e.jsx(H,{width:"100%",height:300,children:e.jsxs(ge,{data:[{name:"Ansiedade",inicio:75,atual:45},{name:"Depressão",inicio:65,atual:30},{name:"Estresse",inicio:80,atual:55},{name:"Insônia",inicio:70,atual:35},{name:"Pânico",inicio:60,atual:25}],children:[e.jsx(J,{strokeDasharray:"3 3"}),e.jsx(Y,{dataKey:"name"}),e.jsx(U,{}),e.jsx(q,{}),e.jsx(Z,{}),e.jsx(W,{dataKey:"inicio",name:"Início do Tratamento",fill:"#ff8042"}),e.jsx(W,{dataKey:"atual",name:"Atual",fill:"#00C49F"})]})})})]})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(T,{children:"Análise Semântica do Diário"}),e.jsx(M,{children:"Palavras e temas mais frequentes nas entradas do diário"})]}),e.jsx(N,{children:e.jsx("div",{className:"flex flex-wrap gap-3 py-4",children:[{text:"ansiedade",size:28},{text:"família",size:26},{text:"trabalho",size:24},{text:"medo",size:22},{text:"estresse",size:24},{text:"sono",size:20},{text:"relacionamento",size:19},{text:"felicidade",size:17},{text:"frustração",size:21},{text:"tristeza",size:22},{text:"esperança",size:16},{text:"paz",size:15},{text:"insegurança",size:20},{text:"futuro",size:18},{text:"saúde",size:17},{text:"crescimento",size:15},{text:"pressão",size:19},{text:"solidão",size:21},{text:"mudança",size:18},{text:"apoio",size:17}].map((n,x)=>e.jsx("div",{className:"bg-emerald-50 rounded-full px-3 py-1.5 text-emerald-800",style:{fontSize:`${n.size/10}rem`},children:n.text},x))})})]}),e.jsxs(b,{children:[e.jsxs(D,{children:[e.jsx(T,{children:"Correlações de Fatores"}),e.jsx(M,{children:"Relação entre diferentes variáveis de saúde mental"})]}),e.jsx(N,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Principais Correlações Positivas"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Prática de exercícios + Qualidade do sono"}),e.jsx("span",{className:"font-medium text-green-600",children:"+0.78"})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Conexões sociais + Humor"}),e.jsx("span",{className:"font-medium text-green-600",children:"+0.72"})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Meditação + Níveis de ansiedade"}),e.jsx("span",{className:"font-medium text-green-600",children:"+0.65"})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Registro no diário + Autoconhecimento"}),e.jsx("span",{className:"font-medium text-green-600",children:"+0.62"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Principais Correlações Negativas"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Uso de telas à noite + Qualidade do sono"}),e.jsx("span",{className:"font-medium text-red-600",children:"-0.71"})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Estresse no trabalho + Estabilidade de humor"}),e.jsx("span",{className:"font-medium text-red-600",children:"-0.68"})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Isolamento social + Bem-estar"}),e.jsx("span",{className:"font-medium text-red-600",children:"-0.64"})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Consumo de cafeína + Ansiedade"}),e.jsx("span",{className:"font-medium text-red-600",children:"-0.57"})]})]})]})]})})]})]})]})]})}export{et as default};
