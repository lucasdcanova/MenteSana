import{c as pe,u as De,b as Ae,r as c,y as ne,I as z,aR as Ie,aS as Te,d as Re,j as e,C as N,f as y,aT as w,g as E,h as b,B as d,F as k,A as Y,aU as oe,aV as m,aW as x,aX as p,aY as h,aN as n,aZ as g,b1 as T,bc as ce,b7 as o,aQ as ze,b3 as l,J as de,K as ke}from"./index-DKFI7ZyH.js";import{T as Me,a as Ve,b as _,c as Q}from"./tabs-BarOwXjl.js";import{A as Le,a as Ue}from"./avatar-Dqs0JyeB.js";import{T as C}from"./textarea-CW1zArsP.js";import{B as S}from"./badge-CsDoxorc.js";import{S as qe}from"./switch-Cz62NSvB.js";import{P as Be}from"./profile-image-upload-DfbdSUK1.js";import{S as me}from"./star-CCvH2jAr.js";import{U as $e}from"./user-DNBDU0iz.js";import{M as Ge,a as He}from"./map-pin-BshieWSJ.js";import{P as Ke}from"./phone-1GZSxC6s.js";import{L as Oe}from"./languages-BwiFi0se.js";import{P as F}from"./plus-BTDcvFex.js";import"./trash-2-CpzcPU4s.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=pe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=pe("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]),_e=l.object({firstName:l.string().min(2,"Nome deve ter pelo menos 2 caracteres"),lastName:l.string().min(2,"Sobrenome deve ter pelo menos 2 caracteres"),email:l.string().email("Email inválido"),phone:l.string().optional(),location:l.string().optional(),profilePicture:l.string().optional(),bio:l.string().optional(),specialization:l.string().min(2,"Especialização é obrigatória"),hourlyRate:l.number().min(0,"Valor da consulta não pode ser negativo").optional(),education:l.string().optional(),yearsOfExperience:l.number().min(0).optional(),professionalBio:l.string().optional(),approachDescription:l.string().optional(),videoIntroUrl:l.string().optional(),availableForEmergency:l.boolean().optional(),graduationCourse:l.string().optional(),graduationInstitution:l.string().optional(),graduationYear:l.number().optional(),postGradType:l.string().optional(),postGradTitle:l.string().optional(),postGradInstitution:l.string().optional(),postGradYear:l.number().optional(),currentInstitution:l.string().optional(),currentPosition:l.string().optional(),currentStartDate:l.string().optional(),currentResponsibilities:l.string().optional(),previousInstitution:l.string().optional(),previousPosition:l.string().optional(),previousStartDate:l.string().optional(),previousEndDate:l.string().optional(),previousResponsibilities:l.string().optional(),publications:l.string().optional(),preferredPatientProfile:l.string().optional(),preferredApproach:l.string().optional()});function cs(){const{user:i}=De(),{toast:J}=Ae(),[he,ue]=c.useState("general"),[f,W]=c.useState(!1),[M,X]=c.useState(""),[D,V]=c.useState([]),[L,Z]=c.useState(""),[U,q]=c.useState([]),[B,ee]=c.useState(""),[A,$]=c.useState([]),[G,se]=c.useState(""),[H,K]=c.useState([]),[je,ge]=c.useState(0),[ve,fe]=c.useState(0),[Ne,be]=c.useState(0),{data:a,isLoading:ye}=ne({queryKey:[`/api/therapists/${i==null?void 0:i.therapistId}`],queryFn:async()=>i!=null&&i.therapistId?(await z("GET",`/api/therapists/${i.therapistId}`)).json():null,enabled:!!(i!=null&&i.therapistId)}),r=Ie({resolver:Te(_e),defaultValues:{firstName:(i==null?void 0:i.firstName)||"",lastName:(i==null?void 0:i.lastName)||"",email:(i==null?void 0:i.email)||"",phone:(i==null?void 0:i.phone)||"",location:(i==null?void 0:i.location)||"",profilePicture:(i==null?void 0:i.profilePicture)||"",bio:(i==null?void 0:i.bio)||"",specialization:(a==null?void 0:a.specialization)||"",hourlyRate:(a==null?void 0:a.hourlyRate)||0,education:(a==null?void 0:a.education)||"",yearsOfExperience:(a==null?void 0:a.yearsOfExperience)||0,professionalBio:(a==null?void 0:a.professionalBio)||"",approachDescription:(a==null?void 0:a.approachDescription)||"",videoIntroUrl:(a==null?void 0:a.videoIntroUrl)||"",availableForEmergency:(a==null?void 0:a.availableForEmergency)||!1,previousInstitution:(a==null?void 0:a.previousInstitution)||"",previousPosition:(a==null?void 0:a.previousPosition)||"",previousStartDate:(a==null?void 0:a.previousStartDate)||"",previousEndDate:(a==null?void 0:a.previousEndDate)||"",previousResponsibilities:(a==null?void 0:a.previousResponsibilities)||""}});c.useEffect(()=>{i&&a&&(r.reset({firstName:i.firstName||"",lastName:i.lastName||"",email:i.email||"",phone:i.phone||"",location:i.location||"",profilePicture:i.profilePicture||"",bio:i.bio||"",specialization:a.specialization||"",hourlyRate:a.hourlyRate||0,education:a.education||"",yearsOfExperience:a.yearsOfExperience||0,professionalBio:a.professionalBio||"",approachDescription:a.approachDescription||"",videoIntroUrl:a.videoIntroUrl||"",availableForEmergency:a.availableForEmergency||!1,previousInstitution:a.previousInstitution||"",previousPosition:a.previousPosition||"",previousStartDate:a.previousStartDate||"",previousEndDate:a.previousEndDate||"",previousResponsibilities:a.previousResponsibilities||"",publications:a.publications||"",preferredPatientProfile:a.preferredPatientProfile||"",preferredApproach:a.preferredApproach||""}),V(a.languages||[]),q(a.certifications||[]),$(a.specialties||[]),K(a.treatmentMethods||[]),ge(a.patientCount||0),fe(a.rating||0))},[i,a,r]);const{data:P,isLoading:we}=ne({queryKey:[`/api/sessions/therapist/${i==null?void 0:i.therapistId}`],queryFn:async()=>i!=null&&i.therapistId?(await z("GET",`/api/sessions/therapist/${i.therapistId}`)).json():[],enabled:!!(i!=null&&i.therapistId)});c.useEffect(()=>{if(P){const s=P.filter(t=>t.status==="completed").length;be(s)}},[P]);const I=async s=>{if(!(!i||!i.therapistId)){W(!0);try{const t=await z("PATCH",`/api/users/${i.id}`,{firstName:s.firstName,lastName:s.lastName,email:s.email,phone:s.phone,location:s.location,profilePicture:s.profilePicture,bio:s.bio});if(!t.ok)throw new Error("Falha ao atualizar dados do usuário");const v=await t.json();de.setQueryData(["/api/user"],v);const u=await z("PATCH",`/api/therapists/${i.therapistId}`,{specialization:s.specialization,hourlyRate:s.hourlyRate,education:s.education,yearsOfExperience:s.yearsOfExperience,professionalBio:s.professionalBio,approachDescription:s.approachDescription,videoIntroUrl:s.videoIntroUrl,availableForEmergency:s.availableForEmergency,previousInstitution:s.previousInstitution,previousPosition:s.previousPosition,previousStartDate:s.previousStartDate,previousEndDate:s.previousEndDate,previousResponsibilities:s.previousResponsibilities,publications:s.publications,preferredPatientProfile:s.preferredPatientProfile,preferredApproach:s.preferredApproach,languages:D,certifications:U,specialties:A,treatmentMethods:H});if(!u.ok)throw new Error("Falha ao atualizar perfil profissional");const R=await u.json();de.setQueryData([`/api/therapists/${i.therapistId}`],R),J({title:"Perfil atualizado",description:"Seus dados profissionais foram atualizados com sucesso."})}catch{J({title:"Erro",description:"Não foi possível atualizar seu perfil. Tente novamente.",variant:"destructive"})}finally{W(!1)}}},ae=()=>{M.trim()&&(V(s=>[...s,M]),X(""))},Ce=s=>{V(t=>t.filter((v,u)=>u!==s))},ie=()=>{L.trim()&&(q(s=>[...s,L]),Z(""))},Pe=s=>{q(t=>t.filter((v,u)=>u!==s))},re=()=>{B.trim()&&($(s=>[...s,B]),ee(""))},Ee=s=>{$(t=>t.filter((v,u)=>u!==s))},te=()=>{G.trim()&&(K(s=>[...s,G]),se(""))},Se=s=>{K(t=>t.filter((v,u)=>u!==s))},[,Fe]=Re();return!i||!i.isTherapist?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs(N,{className:"max-w-md w-full",children:[e.jsxs(y,{children:[e.jsx(w,{children:"Acesso Negado"}),e.jsx(E,{children:"Esta página é destinada apenas para terapeutas cadastrados."})]}),e.jsx(b,{children:e.jsx(d,{className:"w-full",onClick:()=>Fe("/"),children:"Voltar para a Página Inicial"})})]})}):ye?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e.jsx("div",{className:"container max-w-6xl py-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsxs("div",{className:"w-full md:w-1/3",children:[e.jsx(N,{className:"mb-6",children:e.jsx(b,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx(Be,{currentImage:i.profilePicture,userName:`${i.firstName} ${i.lastName}`,size:"xl",showButtons:!1})}),e.jsxs("h2",{className:"text-2xl font-bold",children:[i.firstName," ",i.lastName]}),e.jsx("p",{className:"text-muted-foreground mb-2",children:(a==null?void 0:a.specialization)||"Terapeuta"}),(a==null?void 0:a.rating)&&e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[[...Array(5)].map((s,t)=>e.jsx(me,{className:`h-4 w-4 ${t<Math.round(a.rating)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},t)),e.jsxs("span",{className:"text-sm ml-1",children:["(",a.rating.toFixed(1),")"]})]}),e.jsx(k,{className:"my-4"}),e.jsxs("div",{className:"w-full space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("span",{children:["Perfil criado em ",Y(new Date(i.createdAt),"dd/MM/yyyy")]})]}),i.email&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("span",{children:i.email})]}),i.phone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ke,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("span",{children:i.phone})]}),i.location&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(He,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("span",{children:i.location})]}),(a==null?void 0:a.hourlyRate)!==void 0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-semibold",children:["R$ ",a.hourlyRate,",00"]}),e.jsx("span",{className:"text-muted-foreground text-sm",children:"por sessão"})]})]})]})})}),e.jsxs(N,{children:[e.jsx(y,{children:e.jsx(w,{children:"Estatísticas Profissionais"})}),e.jsxs(b,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 md:grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"border rounded-lg p-4 flex flex-col items-center",children:[e.jsx("span",{className:"text-2xl font-bold",children:je}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Pacientes"})]}),e.jsxs("div",{className:"border rounded-lg p-4 flex flex-col items-center",children:[e.jsx("span",{className:"text-2xl font-bold",children:Ne}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sessões"})]}),e.jsxs("div",{className:"border rounded-lg p-4 flex flex-col items-center",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-2xl font-bold",children:ve.toFixed(1)}),e.jsx(me,{className:"h-5 w-5 text-yellow-400 fill-yellow-400"})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Avaliação"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-sm font-medium mb-2",children:"Especialidades"}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:A&&A.length>0?A.map((s,t)=>e.jsx(S,{variant:"secondary",className:"text-xs",children:s},t)):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma especialidade cadastrada"})}),e.jsx("h3",{className:"text-sm font-medium mb-2",children:"Idiomas"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:D&&D.length>0?D.map((s,t)=>e.jsx(S,{variant:"outline",className:"text-xs",children:s},t)):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum idioma cadastrado"})})]})]})]})]}),e.jsx("div",{className:"w-full md:w-2/3",children:e.jsxs(Me,{defaultValue:"general",value:he,onValueChange:ue,className:"w-full",children:[e.jsxs(Ve,{className:"grid grid-cols-3 mb-6",children:[e.jsx(_,{value:"general",children:"Dados Pessoais"}),e.jsx(_,{value:"professional",children:"Perfil Profissional"}),e.jsx(_,{value:"patients",children:"Pacientes"})]}),e.jsx(Q,{value:"general",children:e.jsxs(N,{children:[e.jsxs(y,{children:[e.jsx(w,{children:"Informações Pessoais"}),e.jsx(E,{children:"Atualize suas informações pessoais que serão visíveis para seus pacientes."})]}),e.jsx(b,{children:e.jsx(oe,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(I),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(m,{control:r.control,name:"firstName",render:({field:s})=>e.jsxs(x,{children:[e.jsx(p,{children:"Nome"}),e.jsx(h,{children:e.jsx(n,{placeholder:"Seu nome",...s})}),e.jsx(g,{})]})}),e.jsx(m,{control:r.control,name:"lastName",render:({field:s})=>e.jsxs(x,{children:[e.jsx(p,{children:"Sobrenome"}),e.jsx(h,{children:e.jsx(n,{placeholder:"Seu sobrenome",...s})}),e.jsx(g,{})]})})]}),e.jsx(m,{control:r.control,name:"email",render:({field:s})=>e.jsxs(x,{children:[e.jsx(p,{children:"Email"}),e.jsx(h,{children:e.jsx(n,{placeholder:"seu@email.com",...s})}),e.jsx(g,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(m,{control:r.control,name:"phone",render:({field:s})=>e.jsxs(x,{children:[e.jsx(p,{children:"Telefone"}),e.jsx(h,{children:e.jsx(n,{placeholder:"(00) 00000-0000",...s})}),e.jsx(g,{})]})}),e.jsx(m,{control:r.control,name:"location",render:({field:s})=>e.jsxs(x,{children:[e.jsx(p,{children:"Localização"}),e.jsx(h,{children:e.jsx(n,{placeholder:"Cidade, Estado",...s})}),e.jsx(g,{})]})})]}),e.jsx(m,{control:r.control,name:"bio",render:({field:s})=>e.jsxs(x,{children:[e.jsx(p,{children:"Biografia Pessoal"}),e.jsx(h,{children:e.jsx(C,{placeholder:"Compartilhe um pouco sobre você",...s,className:"min-h-[120px]"})}),e.jsx(T,{children:"Uma breve descrição pessoal que ajude seus pacientes a conhecerem você melhor."}),e.jsx(g,{})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(d,{type:"submit",disabled:f,children:f?"Salvando...":"Salvar Alterações"})})]})})})]})}),e.jsxs(Q,{value:"professional",children:[e.jsxs(N,{className:"mb-6",children:[e.jsxs(y,{children:[e.jsx(w,{children:"Perfil Profissional"}),e.jsx(E,{children:"Atualize suas informações profissionais, especialidades e valores."})]}),e.jsx(b,{children:e.jsx(oe,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(I),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(m,{control:r.control,name:"specialization",render:({field:s})=>e.jsxs(x,{children:[e.jsx(p,{children:"Especialização Principal"}),e.jsx(h,{children:e.jsx(n,{placeholder:"Ex: Psicologia Clínica",...s})}),e.jsx(g,{})]})}),e.jsx(m,{control:r.control,name:"hourlyRate",render:({field:s})=>e.jsxs(x,{children:[e.jsx(p,{children:"Valor da Sessão (R$)"}),e.jsx(h,{children:e.jsx(n,{type:"number",placeholder:"Valor em reais",...s,value:s.value||"",onChange:t=>s.onChange(t.target.value===""?void 0:Number(t.target.value))})}),e.jsx(g,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(m,{control:r.control,name:"education",render:({field:s})=>e.jsxs(x,{children:[e.jsx(p,{children:"Formação Acadêmica"}),e.jsx(h,{children:e.jsx(n,{placeholder:"Ex: Mestrado em Psicologia",...s})}),e.jsx(g,{})]})}),e.jsx(m,{control:r.control,name:"yearsOfExperience",render:({field:s})=>e.jsxs(x,{children:[e.jsx(p,{children:"Anos de Experiência"}),e.jsx(h,{children:e.jsx(n,{type:"number",placeholder:"Número de anos",...s,value:s.value||"",onChange:t=>s.onChange(t.target.value===""?void 0:Number(t.target.value))})}),e.jsx(g,{})]})})]}),e.jsx(m,{control:r.control,name:"professionalBio",render:({field:s})=>e.jsxs(x,{children:[e.jsx(p,{children:"Biografia Profissional"}),e.jsx(h,{children:e.jsx(C,{placeholder:"Descreva sua experiência profissional, formação e abordagem",...s,className:"min-h-[150px]"})}),e.jsx(T,{children:"Descreva sua trajetória profissional, formação acadêmica e experiências relevantes."}),e.jsx(g,{})]})}),e.jsx(m,{control:r.control,name:"approachDescription",render:({field:s})=>e.jsxs(x,{children:[e.jsx(p,{children:"Abordagem Terapêutica"}),e.jsx(h,{children:e.jsx(C,{placeholder:"Descreva sua abordagem terapêutica e métodos utilizados",...s,className:"min-h-[150px]"})}),e.jsx(T,{children:"Explique sua abordagem terapêutica, técnicas e métodos utilizados nas sessões."}),e.jsx(g,{})]})}),e.jsx(m,{control:r.control,name:"videoIntroUrl",render:({field:s})=>e.jsxs(x,{children:[e.jsx(p,{children:"URL de Vídeo de Apresentação"}),e.jsx(h,{children:e.jsx(n,{placeholder:"https://exemplo.com/video.mp4",...s})}),e.jsx(T,{children:"Adicione um vídeo curto onde você se apresenta para potenciais pacientes."}),e.jsx(g,{})]})}),e.jsx(m,{control:r.control,name:"availableForEmergency",render:({field:s})=>e.jsxs(x,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(p,{className:"text-base",children:"Disponível para Emergências"}),e.jsx(T,{children:"Indique se está disponível para atendimentos emergenciais."})]}),e.jsx(h,{children:e.jsx(qe,{checked:s.value,onCheckedChange:s.onChange})})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(d,{type:"submit",disabled:f,children:f?"Salvando...":"Salvar Alterações"})})]})})})]}),e.jsxs(N,{children:[e.jsxs(y,{children:[e.jsx(w,{children:"Competências e Especialidades"}),e.jsx(E,{children:"Adicione idiomas, certificações, especialidades e métodos de tratamento."})]}),e.jsxs(b,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-2 flex items-center gap-2",children:[e.jsx(Oe,{className:"h-5 w-5"}),"Idiomas"]}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Adicione os idiomas que você domina para atendimento."}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:D.length>0?D.map((s,t)=>e.jsxs(S,{variant:"secondary",className:"text-sm py-1 px-3",children:[s,e.jsx("button",{className:"ml-2 text-xs hover:text-destructive",onClick:()=>Ce(t),children:"✕"})]},t)):e.jsx("p",{className:"text-muted-foreground text-sm italic",children:"Nenhum idioma adicionado. Adicione abaixo."})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{placeholder:"Novo idioma",value:M,onChange:s=>X(s.target.value),onKeyDown:s=>s.key==="Enter"&&ae()}),e.jsxs(d,{variant:"outline",onClick:ae,children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Adicionar"]})]})]}),e.jsx(k,{}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-2 flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5"}),"Certificações"]}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Adicione suas certificações profissionais."}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:U.length>0?U.map((s,t)=>e.jsxs(S,{variant:"secondary",className:"text-sm py-1 px-3",children:[s,e.jsx("button",{className:"ml-2 text-xs hover:text-destructive",onClick:()=>Pe(t),children:"✕"})]},t)):e.jsx("p",{className:"text-muted-foreground text-sm italic",children:"Nenhuma certificação adicionada. Adicione abaixo."})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{placeholder:"Nova certificação",value:L,onChange:s=>Z(s.target.value),onKeyDown:s=>s.key==="Enter"&&ie()}),e.jsxs(d,{variant:"outline",onClick:ie,children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Adicionar"]})]})]}),e.jsx(k,{}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-2 flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5"}),"Especialidades"]}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Adicione suas áreas de especialização."}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:A.length>0?A.map((s,t)=>e.jsxs(S,{variant:"secondary",className:"text-sm py-1 px-3",children:[s,e.jsx("button",{className:"ml-2 text-xs hover:text-destructive",onClick:()=>Ee(t),children:"✕"})]},t)):e.jsx("p",{className:"text-muted-foreground text-sm italic",children:"Nenhuma especialidade adicionada. Adicione abaixo."})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{placeholder:"Nova especialidade",value:B,onChange:s=>ee(s.target.value),onKeyDown:s=>s.key==="Enter"&&re()}),e.jsxs(d,{variant:"outline",onClick:re,children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Adicionar"]})]})]}),e.jsx(k,{}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-2 flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5"}),"Métodos de Tratamento"]}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Adicione os métodos e técnicas que você utiliza."}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:H.length>0?H.map((s,t)=>e.jsxs(S,{variant:"secondary",className:"text-sm py-1 px-3",children:[s,e.jsx("button",{className:"ml-2 text-xs hover:text-destructive",onClick:()=>Se(t),children:"✕"})]},t)):e.jsx("p",{className:"text-muted-foreground text-sm italic",children:"Nenhum método adicionado. Adicione abaixo."})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{placeholder:"Novo método de tratamento",value:G,onChange:s=>se(s.target.value),onKeyDown:s=>s.key==="Enter"&&te()}),e.jsxs(d,{variant:"outline",onClick:te,children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Adicionar"]})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(d,{onClick:()=>r.handleSubmit(I)(),disabled:f,children:f?"Salvando...":"Salvar Todas as Alterações"})})]})]}),e.jsxs(N,{className:"mb-6",children:[e.jsxs(y,{children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5"}),"Formação Acadêmica Detalhada"]}),e.jsx(E,{children:"Forneça informações detalhadas sobre sua formação acadêmica e cursos específicos"})]}),e.jsxs(b,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Graduação"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[e.jsxs("div",{className:"grow space-y-1",children:[e.jsx(o,{htmlFor:"graduation-course",children:"Curso"}),e.jsx(n,{id:"graduation-course",placeholder:"Ex: Psicologia",value:r.watch("education")||"",onChange:s=>r.setValue("education",s.target.value)})]}),e.jsxs("div",{className:"grow space-y-1",children:[e.jsx(o,{htmlFor:"graduation-institution",children:"Instituição"}),e.jsx(n,{id:"graduation-institution",placeholder:"Ex: Universidade Federal",value:r.watch("graduationInstitution")||"",onChange:s=>r.setValue("graduationInstitution",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"graduation-year",children:"Ano de Conclusão"}),e.jsx(n,{id:"graduation-year",placeholder:"Ex: 2015",type:"number",value:r.watch("graduationYear")||"",onChange:s=>r.setValue("graduationYear",s.target.value===""?void 0:Number(s.target.value))})]})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Pós-graduação"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[e.jsxs("div",{className:"grow space-y-1",children:[e.jsx(o,{htmlFor:"postgrad-type",children:"Tipo"}),e.jsx(n,{id:"postgrad-type",placeholder:"Ex: Mestrado, Doutorado, Especialização"})]}),e.jsxs("div",{className:"grow space-y-1",children:[e.jsx(o,{htmlFor:"postgrad-title",children:"Título"}),e.jsx(n,{id:"postgrad-title",placeholder:"Ex: Psicologia Clínica"})]}),e.jsxs("div",{className:"grow space-y-1",children:[e.jsx(o,{htmlFor:"postgrad-institution",children:"Instituição"}),e.jsx(n,{id:"postgrad-institution",placeholder:"Ex: Universidade de São Paulo"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"postgrad-year",children:"Ano"}),e.jsx(n,{id:"postgrad-year",placeholder:"Ex: 2018",type:"number"})]})]}),e.jsxs(d,{variant:"outline",size:"sm",className:"mt-2",children:[e.jsx(F,{className:"h-4 w-4 mr-1"})," Adicionar Pós-graduação"]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Cursos e Formações Complementares"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[e.jsxs("div",{className:"grow space-y-1",children:[e.jsx(o,{htmlFor:"course-name",children:"Nome do Curso"}),e.jsx(n,{id:"course-name",placeholder:"Ex: Terapia Cognitivo-Comportamental"})]}),e.jsxs("div",{className:"grow space-y-1",children:[e.jsx(o,{htmlFor:"course-institution",children:"Instituição"}),e.jsx(n,{id:"course-institution",placeholder:"Ex: Instituto Beck"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"course-hours",children:"Carga Horária"}),e.jsx(n,{id:"course-hours",placeholder:"Ex: 120h"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"course-year",children:"Ano"}),e.jsx(n,{id:"course-year",placeholder:"Ex: 2020",type:"number"})]})]}),e.jsxs(d,{variant:"outline",size:"sm",className:"mt-2",children:[e.jsx(F,{className:"h-4 w-4 mr-1"})," Adicionar Curso"]})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(d,{onClick:()=>r.handleSubmit(I)(),disabled:f,children:f?"Salvando...":"Salvar Formação Acadêmica"})})]})]}),e.jsxs(N,{children:[e.jsxs(y,{children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5"}),"Experiência Profissional"]}),e.jsx(E,{children:"Detalhe sua trajetória profissional, incluindo instituições e cargos ocupados"})]}),e.jsxs(b,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Experiência Atual"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"current-institution",children:"Instituição/Clínica"}),e.jsx(n,{id:"current-institution",placeholder:"Ex: Clínica Mente Sã",value:r.watch("currentInstitution")||"",onChange:s=>r.setValue("currentInstitution",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"current-position",children:"Cargo/Função"}),e.jsx(n,{id:"current-position",placeholder:"Ex: Psicólogo Clínico Senior",value:r.watch("currentPosition")||"",onChange:s=>r.setValue("currentPosition",s.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"current-start-date",children:"Data de Início"}),e.jsx(n,{id:"current-start-date",placeholder:"Ex: 01/2019",value:r.watch("currentStartDate")||"",onChange:s=>r.setValue("currentStartDate",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"current-responsibilities",children:"Principais Responsabilidades"}),e.jsx(C,{id:"current-responsibilities",placeholder:"Descreva suas principais atividades e responsabilidades",className:"min-h-[80px]",value:r.watch("currentResponsibilities")||"",onChange:s=>r.setValue("currentResponsibilities",s.target.value)})]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Experiências Anteriores"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"previous-institution",children:"Instituição/Clínica"}),e.jsx(n,{id:"previous-institution",placeholder:"Ex: Hospital Universitário",value:r.watch("previousInstitution")||"",onChange:s=>r.setValue("previousInstitution",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"previous-position",children:"Cargo/Função"}),e.jsx(n,{id:"previous-position",placeholder:"Ex: Psicólogo Clínico",value:r.watch("previousPosition")||"",onChange:s=>r.setValue("previousPosition",s.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"previous-start-date",children:"Data de Início"}),e.jsx(n,{id:"previous-start-date",placeholder:"Ex: 01/2015",value:r.watch("previousStartDate")||"",onChange:s=>r.setValue("previousStartDate",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"previous-end-date",children:"Data de Término"}),e.jsx(n,{id:"previous-end-date",placeholder:"Ex: 12/2018",value:r.watch("previousEndDate")||"",onChange:s=>r.setValue("previousEndDate",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"previous-responsibilities",children:"Responsabilidades"}),e.jsx(C,{id:"previous-responsibilities",placeholder:"Descreva suas principais atividades e responsabilidades",className:"min-h-[80px]",value:r.watch("previousResponsibilities")||"",onChange:s=>r.setValue("previousResponsibilities",s.target.value)})]})]}),e.jsxs(d,{variant:"outline",size:"sm",className:"mt-2",children:[e.jsx(F,{className:"h-4 w-4 mr-1"})," Adicionar Experiência"]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Publicações e Pesquisas"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"publications",children:"Artigos, Livros e Pesquisas"}),e.jsx(C,{id:"publications",placeholder:"Liste suas publicações acadêmicas, artigos e pesquisas relevantes",className:"min-h-[100px]",value:r.watch("publications")||"",onChange:s=>r.setValue("publications",s.target.value)})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Preferências de Atendimento"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"preferred-patient-profile",children:"Perfil de Pacientes"}),e.jsx(C,{id:"preferred-patient-profile",placeholder:"Descreva o perfil de pacientes com os quais você tem mais afinidade",className:"min-h-[80px]",value:r.watch("preferredPatientProfile")||"",onChange:s=>r.setValue("preferredPatientProfile",s.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"preferred-approach",children:"Abordagem Preferida"}),e.jsx(C,{id:"preferred-approach",placeholder:"Descreva sua abordagem preferencial e metodologia de trabalho",className:"min-h-[80px]",value:r.watch("preferredApproach")||"",onChange:s=>r.setValue("preferredApproach",s.target.value)})]})]})})]}),e.jsx("div",{className:"flex justify-end pt-6",children:e.jsx(d,{onClick:()=>r.handleSubmit(I)(),disabled:f,children:f?"Salvando...":"Salvar Experiência"})})]})]})]}),e.jsx(Q,{value:"patients",children:e.jsxs(N,{children:[e.jsxs(y,{children:[e.jsx(w,{children:"Meus Pacientes"}),e.jsx(E,{children:"Visualize e gerencie seus pacientes atuais."})]}),e.jsx(b,{children:we?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):P&&P.length>0?e.jsx("div",{className:"space-y-2",children:Array.from(new Set(P.map(s=>s.userId))).map(s=>{var le;const t=String(s),v=P.filter(j=>j.userId===s),u=((le=v[0])==null?void 0:le.userName)||"Paciente",R=v.sort((j,O)=>new Date(O.scheduledFor).getTime()-new Date(j.scheduledFor).getTime())[0];return e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Le,{className:"h-10 w-10",children:e.jsx(Ue,{className:"bg-primary text-primary-foreground",children:u.split(" ").map(j=>j[0]).join("")})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:u}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Última sessão: ",R?Y(new Date(R.scheduledFor),"dd/MM/yyyy"):"N/A"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(S,{variant:"outline",children:[v.length," ",v.length===1?"sessão":"sessões"]}),e.jsx(d,{variant:"ghost",size:"sm",children:"Ver detalhes"})]})]}),v.filter(j=>j.status==="scheduled"&&new Date(j.scheduledFor)>new Date).length>0&&e.jsx("div",{className:"mt-3 pt-3 border-t",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Próxima sessão:"})," ",Y(new Date(v.filter(j=>j.status==="scheduled"&&new Date(j.scheduledFor)>new Date).sort((j,O)=>new Date(j.scheduledFor).getTime()-new Date(O.scheduledFor).getTime())[0].scheduledFor),"dd/MM/yyyy 'às' HH:mm",{locale:ke})]})})]},t)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ze,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium",children:"Nenhum paciente encontrado"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Você ainda não atendeu nenhum paciente."})]})})]})})]})})]})})}export{cs as default};
