import{c as L,N as R,Q as be,U as Bt,V as E,Y as Vt,Z as lt,_ as Ut,$ as Y,a0 as It,a1 as Ft,a2 as k,a3 as j,a4 as pe,a5 as ct,a6 as v,a7 as K,a8 as Ot,a9 as zt,aa as we,ab as ht,ac as ne,ad as $t,ae as dt,af as z,ag as ut,ah as Pe,ai as _t,r as b,aj as Wt,j as i,ak as Ht,al as Gt,am as mt,an as qt,ao as Xt,ap as ft,aq as pt,ar as gt,as as Yt,at as Ne,au as Zt,av as Kt,aw as re,ax as I,ay as Q,az as J,aA as Te,aB as Qt,aC as Jt,aD as es,aE as O,aF as oe,aG as ke,aH as ts,aI as ss,aJ as is,aK as as,aL as ns,aM as rs,B as P,i as se,C as ie,h as xt,H as os,w as ls,b as cs,y as hs,aN as ds,P as Se,aO as ee,k as us,aP as ms,aQ as fs}from"./index-DKFI7ZyH.js";import{D as ps,a as gs,b as xs,c as ys}from"./dialog-B2iG5lPB.js";import{B as M}from"./badge-CsDoxorc.js";import{A as vs}from"./arrow-left-BO9DtpKD.js";import{C as bs}from"./circle-check-C5HjS40s.js";import{V as js}from"./volume-x-BilrSJ53.js";import{V as ws}from"./volume-2-BIMvgTNM.js";import{A as ge}from"./arrow-right-RckSFs0h.js";import{S as De}from"./search-D9RKuYgR.js";import{B as Ps}from"./brain-CeXm-j7S.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=L("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=L("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=L("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=L("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=L("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=L("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=L("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=L("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=L("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=L("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=L("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=L("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);function Es(e){return e==="x"||e==="y"?R[e]?null:(R[e]=!0,()=>{R[e]=!1}):R.x||R.y?null:(R.x=R.y=!0,()=>{R.x=R.y=!1})}function G(e,t,s,n){return be(e,t,Bt(s),n)}const Ae=(e,t)=>Math.abs(e-t);function Ls(e,t){const s=Ae(e.x,t.x),n=Ae(e.y,t.y);return Math.sqrt(s**2+n**2)}class yt{constructor(t,s,{transformPagePoint:n,contextWindow:l,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=he(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=Ls(d.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:g}=d,{timestamp:x}=k;this.history.push({...g,timestamp:x});const{onStart:f,onMove:y}=this.handlers;m||(f&&f(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,m)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=ce(m,this.transformPagePoint),E.update(this.updatePoint,!0)},this.handlePointerUp=(d,m)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=he(d.type==="pointercancel"?this.lastMoveEventInfo:ce(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,f),g&&g(d,f)},!Vt(t))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=n,this.contextWindow=l||window;const a=lt(t),r=ce(a,this.transformPagePoint),{point:o}=r,{timestamp:c}=k;this.history=[{...o,timestamp:c}];const{onSessionStart:h}=s;h&&h(t,he(r,this.history)),this.removeListeners=Ut(G(this.contextWindow,"pointermove",this.handlePointerMove),G(this.contextWindow,"pointerup",this.handlePointerUp),G(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Y(this.updatePoint)}}function ce(e,t){return t?{point:t(e.point)}:e}function Ee(e,t){return{x:e.x-t.x,y:e.y-t.y}}function he({point:e},t){return{point:e,delta:Ee(e,vt(t)),offset:Ee(e,Rs(t)),velocity:Ms(t,.1)}}function Rs(e){return e[0]}function vt(e){return e[e.length-1]}function Ms(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const l=vt(e);for(;s>=0&&(n=e[s],!(l.timestamp-n.timestamp>It(t)));)s--;if(!n)return{x:0,y:0};const u=Ft(l.timestamp-n.timestamp);if(u===0)return{x:0,y:0};const a={x:(l.x-n.x)/u,y:(l.y-n.y)/u};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const bt=1e-4,Bs=1-bt,Vs=1+bt,jt=.01,Us=0-jt,Is=0+jt;function S(e){return e.max-e.min}function Fs(e,t,s){return Math.abs(e-t)<=s}function Le(e,t,s,n=.5){e.origin=n,e.originPoint=j(t.min,t.max,e.origin),e.scale=S(s)/S(t),e.translate=j(s.min,s.max,e.origin)-e.originPoint,(e.scale>=Bs&&e.scale<=Vs||isNaN(e.scale))&&(e.scale=1),(e.translate>=Us&&e.translate<=Is||isNaN(e.translate))&&(e.translate=0)}function q(e,t,s,n){Le(e.x,t.x,s.x,n?n.originX:void 0),Le(e.y,t.y,s.y,n?n.originY:void 0)}function Re(e,t,s){e.min=s.min+t.min,e.max=e.min+S(t)}function Os(e,t,s){Re(e.x,t.x,s.x),Re(e.y,t.y,s.y)}function Me(e,t,s){e.min=t.min-s.min,e.max=e.min+S(t)}function X(e,t,s){Me(e.x,t.x,s.x),Me(e.y,t.y,s.y)}function zs(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?j(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?j(s,e,n.max):Math.min(e,s)),e}function Be(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function $s(e,{top:t,left:s,bottom:n,right:l}){return{x:Be(e.x,s,l),y:Be(e.y,t,n)}}function Ve(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function _s(e,t){return{x:Ve(e.x,t.x),y:Ve(e.y,t.y)}}function Ws(e,t){let s=.5;const n=S(e),l=S(t);return l>n?s=pe(t.min,t.max-n,e.min):n>l&&(s=pe(e.min,e.max-l,t.min)),ct(0,1,s)}function Hs(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const ye=.35;function Gs(e=ye){return e===!1?e=0:e===!0&&(e=ye),{x:Ue(e,"left","right"),y:Ue(e,"top","bottom")}}function Ue(e,t,s){return{min:Ie(e,t),max:Ie(e,s)}}function Ie(e,t){return typeof e=="number"?e:e[t]||0}function A(e){return[e("x"),e("y")]}const wt=({current:e})=>e?e.ownerDocument.defaultView:null,qs=new WeakMap;class Xs{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=v(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const l=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(lt(h).point)},u=(h,d)=>{const{drag:m,dragPropagation:p,onDragStart:g}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Es(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),A(f=>{let y=this.getAxisMotionValue(f).get()||0;if(ne.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const N=w.layout.layoutBox[f];N&&(y=S(N)*(parseFloat(y)/100))}}this.originPoint[f]=y}),g&&E.postRender(()=>g(h,d)),we(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(h,d)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:g,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:f}=d;if(p&&this.currentDirection===null){this.currentDirection=Ys(f),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,f),this.updateAxis("y",d.point,f),this.visualElement.render(),x&&x(h,d)},r=(h,d)=>this.stop(h,d),o=()=>A(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new yt(t,{onSessionStart:l,onStart:u,onMove:a,onSessionEnd:r,resumeAnimation:o},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:wt(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&E.postRender(()=>u(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:l}=this.getProps();if(!n||!te(t,l,this.currentDirection))return;const u=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=zs(a,this.constraints[t],this.elastic[t])),u.set(a)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:n}=this.getProps(),l=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,u=this.constraints;s&&K(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&l?this.constraints=$s(l.layoutBox,s):this.constraints=!1,this.elastic=Gs(n),u!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&A(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Hs(l.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!K(t))return!1;const n=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=Ot(n,l.root,this.visualElement.getTransformPagePoint());let a=_s(l.layout.layoutBox,u);if(s){const r=s(zt(a));this.hasMutatedConstraints=!!r,r&&(a=$t(r))}return a}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:l,dragTransition:u,dragSnapToOrigin:a,onDragTransitionEnd:r}=this.getProps(),o=this.constraints||{},c=A(h=>{if(!te(h,s,this.currentDirection))return;let d=o&&o[h]||{};a&&(d={min:0,max:0});const m=l?200:1e6,p=l?40:1e7,g={type:"inertia",velocity:n?t[h]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...u,...d};return this.startAxisValueAnimation(h,g)});return Promise.all(c).then(r)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return we(this.visualElement,t),n.start(ht(t,n,0,s,this.visualElement,!1))}stopAnimation(){A(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){A(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),l=n[s];return l||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){A(s=>{const{drag:n}=this.getProps();if(!te(s,n,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(s);if(l&&l.layout){const{min:a,max:r}=l.layout.layoutBox[s];u.set(t[s]-j(a,r,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!K(s)||!n||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};A(a=>{const r=this.getAxisMotionValue(a);if(r&&this.constraints!==!1){const o=r.get();l[a]=Ws({min:o,max:o},this.constraints[a])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),A(a=>{if(!te(a,t,null))return;const r=this.getAxisMotionValue(a),{min:o,max:c}=this.constraints[a];r.set(j(o,c,l[a]))})}addListeners(){if(!this.visualElement.current)return;qs.set(this.visualElement,this);const t=this.visualElement.current,s=G(t,"pointerdown",o=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(o)}),n=()=>{const{dragConstraints:o}=this.getProps();K(o)&&o.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",n);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),E.read(n);const a=be(window,"resize",()=>this.scalePositionWithinConstraints()),r=l.addEventListener("didUpdate",({delta:o,hasLayoutChanged:c})=>{this.isDragging&&c&&(A(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=o[h].translate,d.set(d.get()+o[h].translate))}),this.visualElement.render())});return()=>{a(),s(),u(),r&&r()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:a=ye,dragMomentum:r=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:l,dragConstraints:u,dragElastic:a,dragMomentum:r}}}function te(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function Ys(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class Zs extends dt{constructor(t){super(t),this.removeGroupControls=z,this.removeListeners=z,this.controls=new Xs(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||z}unmount(){this.removeGroupControls(),this.removeListeners()}}const Fe=e=>(t,s)=>{e&&E.postRender(()=>e(t,s))};class Ks extends dt{constructor(){super(...arguments),this.removePointerDownListener=z}onPointerDown(t){this.session=new yt(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wt(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:l}=this.node.getProps();return{onSessionStart:Fe(t),onStart:Fe(s),onMove:n,onEnd:(u,a)=>{delete this.session,l&&E.postRender(()=>l(u,a))}}}mount(){this.removePointerDownListener=G(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ae={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Oe(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const _={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ut.test(e))e=parseFloat(e);else return e;const s=Oe(e,t.target.x),n=Oe(e,t.target.y);return`${s}% ${n}%`}},Qs={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,l=Pe.parse(e);if(l.length>5)return n;const u=Pe.createTransformer(e),a=typeof l[0]!="number"?1:0,r=s.x.scale*t.x,o=s.y.scale*t.y;l[0+a]/=r,l[1+a]/=o;const c=j(r,o,.5);return typeof l[2+a]=="number"&&(l[2+a]/=c),typeof l[3+a]=="number"&&(l[3+a]/=c),u(l)}};class Js extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:l}=this.props,{projection:u}=t;Gt(ei),u&&(s.group&&s.group.add(u),n&&n.register&&l&&n.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),ae.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:l,isPresent:u}=this.props,a=n.projection;return a&&(a.isPresent=u,l||t.layoutDependency!==s||s===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?a.promote():a.relegate()||E.postRender(()=>{const r=a.getStack();(!r||!r.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),mt.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:l}=t;l&&(l.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(l),n&&n.deregister&&n.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Pt(e){const[t,s]=_t(),n=b.useContext(Wt);return i.jsx(Js,{...e,layoutGroup:n,switchLayoutGroup:b.useContext(Ht),isPresent:t,safeToRemove:s})}const ei={borderRadius:{..._,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_,borderTopRightRadius:_,borderBottomLeftRadius:_,borderBottomRightRadius:_,boxShadow:Qs};function ti(e,t,s){const n=qt(e)?e:Xt(e);return n.start(ht("",n,t,s)),n.animation}function si(e){return e instanceof SVGElement&&e.tagName!=="svg"}const ii=(e,t)=>e.depth-t.depth;class ai{constructor(){this.children=[],this.isDirty=!1}add(t){ft(this.children,t),this.isDirty=!0}remove(t){pt(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ii),this.isDirty=!1,this.children.forEach(t)}}function ni(e,t){const s=gt.now(),n=({timestamp:l})=>{const u=l-s;u>=t&&(Y(n),e(u-t))};return E.read(n,!0),()=>Y(n)}const Nt=["TopLeft","TopRight","BottomLeft","BottomRight"],ri=Nt.length,ze=e=>typeof e=="string"?parseFloat(e):e,$e=e=>typeof e=="number"||ut.test(e);function oi(e,t,s,n,l,u){l?(e.opacity=j(0,s.opacity!==void 0?s.opacity:1,li(n)),e.opacityExit=j(t.opacity!==void 0?t.opacity:1,0,ci(n))):u&&(e.opacity=j(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let a=0;a<ri;a++){const r=`border${Nt[a]}Radius`;let o=_e(t,r),c=_e(s,r);if(o===void 0&&c===void 0)continue;o||(o=0),c||(c=0),o===0||c===0||$e(o)===$e(c)?(e[r]=Math.max(j(ze(o),ze(c),n),0),(ne.test(c)||ne.test(o))&&(e[r]+="%")):e[r]=c}(t.rotate||s.rotate)&&(e.rotate=j(t.rotate||0,s.rotate||0,n))}function _e(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const li=Tt(0,.5,Yt),ci=Tt(.5,.95,z);function Tt(e,t,s){return n=>n<e?0:n>t?1:s(pe(e,t,n))}function We(e,t){e.min=t.min,e.max=t.max}function C(e,t){We(e.x,t.x),We(e.y,t.y)}function He(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Ge(e,t,s,n,l){return e-=t,e=Ne(e,1/s,n),l!==void 0&&(e=Ne(e,1/l,n)),e}function hi(e,t=0,s=1,n=.5,l,u=e,a=e){if(ne.test(t)&&(t=parseFloat(t),t=j(a.min,a.max,t/100)-a.min),typeof t!="number")return;let r=j(u.min,u.max,n);e===u&&(r-=t),e.min=Ge(e.min,t,s,r,l),e.max=Ge(e.max,t,s,r,l)}function qe(e,t,[s,n,l],u,a){hi(e,t[s],t[n],t[l],t.scale,u,a)}const di=["x","scaleX","originX"],ui=["y","scaleY","originY"];function Xe(e,t,s,n){qe(e.x,t,di,s?s.x:void 0,n?n.x:void 0),qe(e.y,t,ui,s?s.y:void 0,n?n.y:void 0)}function Ye(e){return e.translate===0&&e.scale===1}function kt(e){return Ye(e.x)&&Ye(e.y)}function Ze(e,t){return e.min===t.min&&e.max===t.max}function mi(e,t){return Ze(e.x,t.x)&&Ze(e.y,t.y)}function Ke(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function St(e,t){return Ke(e.x,t.x)&&Ke(e.y,t.y)}function Qe(e){return S(e.x)/S(e.y)}function Je(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class fi{constructor(){this.members=[]}add(t){ft(this.members,t),t.scheduleRender()}remove(t){if(pt(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(l=>t===l);if(s===0)return!1;let n;for(let l=s;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){n=u;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pi(e,t,s){let n="";const l=e.x.translate/t.x,u=e.y.translate/t.y,a=(s==null?void 0:s.z)||0;if((l||u||a)&&(n=`translate3d(${l}px, ${u}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:m,skewX:p,skewY:g}=s;c&&(n=`perspective(${c}px) ${n}`),h&&(n+=`rotate(${h}deg) `),d&&(n+=`rotateX(${d}deg) `),m&&(n+=`rotateY(${m}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const r=e.x.scale*t.x,o=e.y.scale*t.y;return(r!==1||o!==1)&&(n+=`scale(${r}, ${o})`),n||"none"}const V={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},W=typeof window<"u"&&window.MotionDebug!==void 0,de=["","X","Y","Z"],gi={visibility:"hidden"},et=1e3;let xi=0;function ue(e,t,s,n){const{latestValues:l}=t;l[e]&&(s[e]=l[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Dt(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=ts(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:l,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",E,!(l||u))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Dt(n)}function Ct({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:l}){return class{constructor(a={},r=t==null?void 0:t()){this.id=xi++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,W&&(V.totalNodes=V.resolvedTargetDeltas=V.recalculatedProjection=0),this.nodes.forEach(bi),this.nodes.forEach(Ti),this.nodes.forEach(ki),this.nodes.forEach(ji),W&&window.MotionDebug.record(V)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new ai)}addEventListener(a,r){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Zt),this.eventHandlers.get(a).add(r)}notifyListeners(a,...r){const o=this.eventHandlers.get(a);o&&o.notify(...r)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,r=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=si(a),this.instance=a;const{layoutId:o,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(c||o)&&(this.isLayoutDirty=!0),e){let d;const m=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=ni(m,250),ae.hasAnimatedSinceResize&&(ae.hasAnimatedSinceResize=!1,this.nodes.forEach(st))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&h&&(o||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||h.getDefaultTransition()||Ei,{onLayoutAnimationStart:f,onLayoutAnimationComplete:y}=h.getProps(),w=!this.targetLayout||!St(this.targetLayout,g)||p,N=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||m&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,N);const D={...Kt(x,"layout"),onPlay:f,onComplete:y};(h.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else m||st(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Y(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Si),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Dt(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:r,layout:o}=this.options;if(r===void 0&&!o)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tt);return}this.isUpdating||this.nodes.forEach(Pi),this.isUpdating=!1,this.nodes.forEach(Ni),this.nodes.forEach(yi),this.nodes.forEach(vi),this.clearAllSnapshots();const r=gt.now();k.delta=ct(0,1e3/60,r-k.timestamp),k.timestamp=r,k.isProcessing=!0,re.update.process(k),re.preRender.process(k),re.render.process(k),k.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mt.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wi),this.sharedNodes.forEach(Di)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,E.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){E.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=v(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:r}=this.options;r&&r.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let r=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(r=!1),r){const o=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:o,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:o}}}resetTransform(){if(!l)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,r=this.projectionDelta&&!kt(this.projectionDelta),o=this.getTransformTemplate(),c=o?o(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;a&&(r||I(this.latestValues)||h)&&(l(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const r=this.measurePageBox();let o=this.removeElementScroll(r);return a&&(o=this.removeTransform(o)),Li(o),{animationId:this.root.animationId,measuredBox:r,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:r}=this.options;if(!r)return v();const o=r.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(Ri))){const{scroll:h}=this.root;h&&(Q(o.x,h.offset.x),Q(o.y,h.offset.y))}return o}removeElementScroll(a){var r;const o=v();if(C(o,a),!((r=this.scroll)===null||r===void 0)&&r.wasRoot)return o;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:m}=h;h!==this.root&&d&&m.layoutScroll&&(d.wasRoot&&C(o,a),Q(o.x,d.offset.x),Q(o.y,d.offset.y))}return o}applyTransform(a,r=!1){const o=v();C(o,a);for(let c=0;c<this.path.length;c++){const h=this.path[c];!r&&h.options.layoutScroll&&h.scroll&&h!==h.root&&J(o,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),I(h.latestValues)&&J(o,h.latestValues)}return I(this.latestValues)&&J(o,this.latestValues),o}removeTransform(a){const r=v();C(r,a);for(let o=0;o<this.path.length;o++){const c=this.path[o];if(!c.instance||!I(c.latestValues))continue;Te(c.latestValues)&&c.updateSnapshot();const h=v(),d=c.measurePageBox();C(h,d),Xe(r,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return I(this.latestValues)&&Xe(r,this.latestValues),r}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==k.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var r;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((r=this.parent)===null||r===void 0)&&r.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:m}=this.options;if(!(!this.layout||!(d||m))){if(this.resolvedRelativeTargetAt=k.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=v(),this.relativeTargetOrigin=v(),X(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),C(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=v(),this.targetWithTransforms=v()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Os(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):C(this.target,this.layout.layoutBox),Qt(this.target,this.targetDelta)):C(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=v(),this.relativeTargetOrigin=v(),X(this.relativeTargetOrigin,this.target,p.target),C(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}W&&V.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Te(this.parent.latestValues)||Jt(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const r=this.getLead(),o=!!this.resumingFrom||this!==r;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===k.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;C(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;es(this.layoutCorrected,this.treeScale,this.path,o),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=v());const{target:g}=r;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(He(this.prevProjectionDelta.x,this.projectionDelta.x),He(this.prevProjectionDelta.y,this.projectionDelta.y)),q(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!Je(this.projectionDelta.x,this.prevProjectionDelta.x)||!Je(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),W&&V.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var r;if((r=this.options.visualElement)===null||r===void 0||r.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=O(),this.projectionDelta=O(),this.projectionDeltaWithTransform=O()}setAnimationOrigin(a,r=!1){const o=this.snapshot,c=o?o.latestValues:{},h={...this.latestValues},d=O();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!r;const m=v(),p=o?o.source:void 0,g=this.layout?this.layout.source:void 0,x=p!==g,f=this.getStack(),y=!f||f.members.length<=1,w=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(Ai));this.animationProgress=0;let N;this.mixTargetDelta=D=>{const B=D/1e3;it(d.x,a.x,B),it(d.y,a.y,B),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(X(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ci(this.relativeTarget,this.relativeTargetOrigin,m,B),N&&mi(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=v()),C(N,this.relativeTarget)),x&&(this.animationValues=h,oi(h,c,this.latestValues,B,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Y(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=E.update(()=>{ae.hasAnimatedSinceResize=!0,this.currentAnimation=ti(0,et,{...a,onUpdate:r=>{this.mixTargetDelta(r),a.onUpdate&&a.onUpdate(r)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(et),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:r,target:o,layout:c,latestValues:h}=a;if(!(!r||!o||!c)){if(this!==a&&this.layout&&c&&At(this.options.animationType,this.layout.layoutBox,c.layoutBox)){o=this.target||v();const d=S(this.layout.layoutBox.x);o.x.min=a.target.x.min,o.x.max=o.x.min+d;const m=S(this.layout.layoutBox.y);o.y.min=a.target.y.min,o.y.max=o.y.min+m}C(r,o),J(r,h),q(this.projectionDeltaWithTransform,this.layoutCorrected,r,h)}}registerSharedNode(a,r){this.sharedNodes.has(a)||this.sharedNodes.set(a,new fi),this.sharedNodes.get(a).add(r);const c=r.options.initialPromotionConfig;r.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(r):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:r}=this.options;return r?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:r}=this.options;return r?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:r,preserveFollowOpacity:o}={}){const c=this.getStack();c&&c.promote(this,o),a&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let r=!1;const{latestValues:o}=a;if((o.z||o.rotate||o.rotateX||o.rotateY||o.rotateZ||o.skewX||o.skewY)&&(r=!0),!r)return;const c={};o.z&&ue("z",a,c,this.animationValues);for(let h=0;h<de.length;h++)ue(`rotate${de[h]}`,a,c,this.animationValues),ue(`skew${de[h]}`,a,c,this.animationValues);a.render();for(const h in c)a.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);a.scheduleRender()}getProjectionStyles(a){var r,o;if(!this.instance||this.isSVG)return;if(!this.isVisible)return gi;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=oe(a==null?void 0:a.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=oe(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!I(this.latestValues)&&(x.transform=h?h({},""):"none",this.hasProjected=!1),x}const m=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=pi(this.projectionDeltaWithTransform,this.treeScale,m),h&&(c.transform=h(m,c.transform));const{x:p,y:g}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,d.animationValues?c.opacity=d===this?(o=(r=m.opacity)!==null&&r!==void 0?r:this.latestValues.opacity)!==null&&o!==void 0?o:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const x in ke){if(m[x]===void 0)continue;const{correct:f,applyTo:y}=ke[x],w=c.transform==="none"?m[x]:f(m[x],d);if(y){const N=y.length;for(let D=0;D<N;D++)c[y[D]]=w}else c[x]=w}return this.options.layoutId&&(c.pointerEvents=d===this?oe(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var r;return(r=a.currentAnimation)===null||r===void 0?void 0:r.stop()}),this.root.nodes.forEach(tt),this.root.sharedNodes.clear()}}}function yi(e){e.updateLayout()}function vi(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:l}=e.layout,{animationType:u}=e.options,a=s.source!==e.layout.source;u==="size"?A(d=>{const m=a?s.measuredBox[d]:s.layoutBox[d],p=S(m);m.min=n[d].min,m.max=m.min+p}):At(u,s.layoutBox,n)&&A(d=>{const m=a?s.measuredBox[d]:s.layoutBox[d],p=S(n[d]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const r=O();q(r,n,s.layoutBox);const o=O();a?q(o,e.applyTransform(l,!0),s.measuredBox):q(o,n,s.layoutBox);const c=!kt(r);let h=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:m,layout:p}=d;if(m&&p){const g=v();X(g,s.layoutBox,m.layoutBox);const x=v();X(x,n,p.layoutBox),St(g,x)||(h=!0),d.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=g,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:o,layoutDelta:r,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function bi(e){W&&V.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ji(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function wi(e){e.clearSnapshot()}function tt(e){e.clearMeasurements()}function Pi(e){e.isLayoutDirty=!1}function Ni(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function st(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Ti(e){e.resolveTargetDelta()}function ki(e){e.calcProjection()}function Si(e){e.resetSkewAndRotation()}function Di(e){e.removeLeadSnapshot()}function it(e,t,s){e.translate=j(t.translate,0,s),e.scale=j(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function at(e,t,s,n){e.min=j(t.min,s.min,n),e.max=j(t.max,s.max,n)}function Ci(e,t,s,n){at(e.x,t.x,s.x,n),at(e.y,t.y,s.y,n)}function Ai(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Ei={duration:.45,ease:[.4,0,.1,1]},nt=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),rt=nt("applewebkit/")&&!nt("chrome/")?Math.round:z;function ot(e){e.min=rt(e.min),e.max=rt(e.max)}function Li(e){ot(e.x),ot(e.y)}function At(e,t,s){return e==="position"||e==="preserve-aspect"&&!Fs(Qe(t),Qe(s),.2)}function Ri(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Mi=Ct({attachResizeListener:(e,t)=>be(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),me={current:void 0},Et=Ct({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!me.current){const e=new Mi({});e.mount(window),e.setOptions({layoutScroll:!0}),me.current=e}return me.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Bi={pan:{Feature:Ks},drag:{Feature:Zs,ProjectionNode:Et,MeasureLayout:Pt}},Vi={layout:{ProjectionNode:Et,MeasureLayout:Pt}},Ui=ss({...as,...ns,...Bi,...Vi},is),ve=rs(Ui);function Ii({tool:e,onBack:t}){const[s,n]=b.useState(0),[l,u]=b.useState(!1),[a,r]=b.useState(0),[o,c]=b.useState(!1),[h,d]=b.useState(!1),m=b.useRef(null),p=e.content.split("⸻").filter(T=>T.trim().length>0),g=p.length,x=e.duration*60,f=Math.floor(x/g);b.useEffect(()=>{let T=null;return l&&(T=setInterval(()=>{r($=>{const Z=$+1;return Z>=(s+1)*f&&(s<g-1?n(s+1):(u(!1),d(!0))),Z})},1e3)),()=>{T&&clearInterval(T)}},[l,s,f,g]),b.useEffect(()=>{r(s*f)},[s,f]),b.useEffect(()=>{m.current&&(l?m.current.play().catch(T=>console.log("Audio play failed:",T)):m.current.pause())},[l]);const y=Math.min(a/x*100,100),w=Math.min((a-s*f)/f*100,100),N=()=>{const T=x-a,$=Math.floor(T/60),Z=T%60;return`${$}:${Z.toString().padStart(2,"0")}`},D=()=>{const T=Math.floor(e.duration),$=Math.round((e.duration-T)*60);return`${T}:${$.toString().padStart(2,"0")}`},B=()=>{u(!l)},je=()=>{u(!1),n(0),r(0),d(!1)},Lt=()=>{m.current&&(m.current.muted=!o,c(!o))},Rt=()=>{s<g-1&&n(s+1)},Mt=()=>{s>0&&n(s-1)};let U="";switch(e.category.toLowerCase()){case"meditação":case"meditation":U="https://cdn.pixabay.com/download/audio/2022/03/24/audio_42c2134887.mp3?filename=calm-meditation-music-110807.mp3";break;case"respiração":case"breathing":U="https://cdn.pixabay.com/download/audio/2022/02/07/audio_42775b09d0.mp3?filename=breathing-meditation-99623.mp3";break;case"relaxamento":case"relaxation":U="https://cdn.pixabay.com/download/audio/2021/04/08/audio_975a210f1a.mp3?filename=relaxing-yoga-music-8128.mp3";break;case"grounding":case"ancoragem":U="https://cdn.pixabay.com/download/audio/2022/04/27/audio_7eff81e95d.mp3?filename=enlightenment-114389.mp3";break;default:U="https://cdn.pixabay.com/download/audio/2022/03/15/audio_b825eb8a55.mp3?filename=ambient-piano-ampamp-strings-10711.mp3"}return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("audio",{ref:m,src:U,loop:!0,preload:"auto",muted:o}),i.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm py-4 px-6 sticky top-0 z-10",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(P,{variant:"ghost",size:"icon",className:"mr-3",onClick:t,children:i.jsx(vs,{className:"h-5 w-5 text-gray-700"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-gray-900",children:e.name}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsxs(M,{variant:"outline",className:"bg-gray-100 text-gray-700 border-gray-200",children:[i.jsx(se,{className:"h-3 w-3 mr-1"}),D()]}),i.jsx(M,{variant:"outline",className:"bg-primary/10 text-primary-dark border-primary/20",children:e.category})]})]})]})}),i.jsx("div",{className:"px-4 md:px-6 pt-6 pb-32 max-w-3xl mx-auto",children:h?i.jsxs(ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center py-10 px-4 text-center",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 flex items-center justify-center mb-6",children:i.jsx(bs,{className:"h-10 w-10 text-green-600"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Exercício Concluído!"}),i.jsxs("p",{className:"text-gray-700 mb-6 max-w-md",children:['Parabéns por completar o exercício "',e.name,'". Continue essa prática regularmente para obter os melhores resultados.']}),i.jsx(P,{variant:"outline",className:"border-primary text-primary font-medium hover:bg-primary/5",onClick:je,children:"Reiniciar Exercício"})]}):i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center shadow-sm",children:i.jsx("span",{className:"text-sm font-bold text-white",children:s+1})}),i.jsxs("span",{className:"text-base font-medium text-gray-800",children:["Passo ",s+1," de ",g]})]}),i.jsxs("div",{className:"flex items-center gap-1 bg-primary/5 px-3 py-1.5 rounded-full border border-primary/10",children:[i.jsx(Cs,{className:"h-4 w-4 text-primary"}),i.jsx("span",{className:"text-sm font-medium text-gray-800",children:N()})]})]}),i.jsx("div",{className:"mb-2 bg-gray-100 h-2 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-300",style:{width:`${y}%`}})}),i.jsx("div",{className:"h-1.5 bg-gray-100 rounded-full overflow-hidden mb-6",children:i.jsx("div",{className:"h-full bg-green-500 rounded-full transition-all duration-300",style:{width:`${w}%`}})}),i.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 mb-6",children:i.jsx("div",{className:"prose prose-lg max-w-none text-gray-800",children:i.jsx("div",{className:"font-medium leading-relaxed text-base md:text-lg",dangerouslySetInnerHTML:{__html:p[s].replace(/\n/g,"<br />").replace(/\*\*(.*?)\*\*/g,'<strong class="text-primary-dark">$1</strong>').replace(/\*(.*?)\*/g,"<em>$1</em>")}})})},s)]})}),!h&&i.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-[0_-4px_10px_rgba(0,0,0,0.05)] border-t border-gray-200 py-4 px-6",children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex justify-center space-x-8 items-center mb-3",children:[i.jsx(P,{variant:"outline",size:"icon",className:"h-12 w-12 rounded-full border-gray-200",onClick:Mt,disabled:s===0,children:i.jsx(Ss,{className:"h-5 w-5 text-gray-700"})}),i.jsx(P,{className:"w-16 h-16 rounded-full bg-primary hover:bg-primary-dark shadow-md",onClick:B,children:l?i.jsx(ks,{className:"h-7 w-7 text-white"}):i.jsx(xe,{className:"h-7 w-7 text-white ml-1"})}),i.jsx(P,{variant:"outline",size:"icon",className:"h-12 w-12 rounded-full border-gray-200",onClick:Rt,disabled:s===g-1,children:i.jsx(Ds,{className:"h-5 w-5 text-gray-700"})})]}),i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsx(P,{variant:"ghost",size:"sm",onClick:Lt,className:"text-gray-700 text-sm",children:o?i.jsxs(i.Fragment,{children:[i.jsx(js,{className:"h-4 w-4 mr-1.5 text-gray-500"}),"Sem áudio"]}):i.jsxs(i.Fragment,{children:[i.jsx(ws,{className:"h-4 w-4 mr-1.5 text-primary"}),"Áudio ativado"]})}),i.jsx(P,{variant:"outline",size:"sm",onClick:je,className:"border-gray-200 text-gray-700 text-sm",children:"Reiniciar"})]})]})})]})}function fe({tool:e,featured:t=!1}){const[s,n]=b.useState(!1),[l,u]=b.useState(!1),[a,r]=b.useState(!1),o=c=>{const d={Meditation:{level:"Alta",color:"bg-green-100 text-green-800 border-green-200"},Meditação:{level:"Alta",color:"bg-green-100 text-green-800 border-green-200"},Breathing:{level:"Alta",color:"bg-green-100 text-green-800 border-green-200"},Respiração:{level:"Alta",color:"bg-green-100 text-green-800 border-green-200"},Grounding:{level:"Moderada",color:"bg-blue-100 text-blue-800 border-blue-200"},Ancoragem:{level:"Moderada",color:"bg-blue-100 text-blue-800 border-blue-200"},Visualization:{level:"Moderada",color:"bg-blue-100 text-blue-800 border-blue-200"},Visualização:{level:"Moderada",color:"bg-blue-100 text-blue-800 border-blue-200"},Mindfulness:{level:"Alta",color:"bg-green-100 text-green-800 border-green-200"},Relaxamento:{level:"Moderada",color:"bg-blue-100 text-blue-800 border-blue-200"}}[c]||{level:"Emergente",color:"bg-purple-100 text-purple-800 border-purple-200"};return i.jsxs(M,{className:ls("text-xs font-medium border",d.color),children:[i.jsx(F,{className:"h-3 w-3 mr-1"}),d.level]})};return a?i.jsx(Ii,{tool:e,onBack:()=>r(!1)}):i.jsxs(i.Fragment,{children:[t?i.jsx("div",{className:"h-full cursor-pointer",onClick:()=>n(!0),children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"relative rounded-t-lg overflow-hidden h-56",children:[e.imageUrl?i.jsx("div",{className:"w-full h-full absolute top-0 left-0 object-cover",style:{backgroundImage:`url(${e.imageUrl})`,backgroundSize:"cover",backgroundPosition:"center"}}):i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary/30 to-primary-dark/40",children:i.jsx(F,{className:"h-12 w-12 text-white/70"})}),i.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:i.jsx("div",{className:"w-16 h-16 rounded-full bg-white/90 shadow-md flex items-center justify-center",children:i.jsx(xe,{className:"h-8 w-8 text-primary-dark ml-1"})})}),i.jsx("div",{className:"absolute top-3 right-3",children:i.jsx("button",{className:"p-2 rounded-full bg-white/80 shadow-md hover:bg-white",onClick:c=>{c.stopPropagation(),u(!l)},children:l?i.jsx(H,{className:"h-5 w-5 fill-primary text-primary"}):i.jsx(le,{className:"h-5 w-5 text-gray-700"})})})]}),i.jsxs("div",{className:"p-4 bg-white rounded-b-lg flex-grow flex flex-col",children:[i.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[i.jsx("div",{className:"flex-grow",children:i.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-tight",children:e.name})}),o(e.category)]}),i.jsx("p",{className:"text-gray-800 mb-3 line-clamp-2",children:e.description}),i.jsxs("div",{className:"mt-auto flex items-center",children:[i.jsxs("div",{className:"flex items-center text-gray-700 bg-gray-100 px-2 py-1 rounded-full",children:[i.jsx(se,{className:"h-4 w-4 mr-1.5 text-gray-500"}),i.jsxs("span",{className:"text-sm font-medium",children:[e.duration," min"]})]}),i.jsx("span",{className:"flex-grow"}),i.jsxs(P,{variant:"link",className:"text-primary font-semibold p-0 h-auto",onClick:c=>{c.stopPropagation(),n(!0)},children:["Ver detalhes",i.jsx(ge,{className:"h-3.5 w-3.5 ml-1"})]})]})]})]})}):i.jsx("div",{className:"cursor-pointer h-full",onClick:()=>n(!0),children:i.jsxs(ie,{className:"border border-gray-200 shadow-sm h-full flex flex-col",children:[i.jsxs("div",{className:"relative h-28 overflow-hidden rounded-t-lg",children:[e.imageUrl?i.jsx("div",{className:"w-full h-full absolute top-0 left-0 object-cover",style:{backgroundImage:`url(${e.imageUrl})`,backgroundSize:"cover",backgroundPosition:"center"}}):i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary/20 to-primary-dark/30",children:i.jsx(F,{className:"h-8 w-8 text-white/70"})}),i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx("button",{className:"p-1.5 rounded-full bg-white/80 shadow-sm hover:bg-white",onClick:c=>{c.stopPropagation(),u(!l)},children:l?i.jsx(H,{className:"h-4 w-4 fill-primary text-primary"}):i.jsx(le,{className:"h-4 w-4 text-gray-700"})})})]}),i.jsxs(xt,{className:"p-3 pb-2 flex-grow",children:[i.jsx("div",{className:"flex items-start justify-between gap-1 mb-1.5",children:i.jsx("h4",{className:"font-semibold text-gray-900 text-sm leading-tight",children:e.name})}),i.jsx("p",{className:"text-xs text-gray-700 mb-2 line-clamp-2",children:e.description})]}),i.jsxs(os,{className:"p-3 pt-0 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center bg-gray-100 px-2 py-1 rounded-full",children:[i.jsx(se,{className:"h-3.5 w-3.5 mr-1 text-gray-500"}),i.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[e.duration," min"]})]}),o(e.category)]})]})}),i.jsx(ps,{open:s,onOpenChange:n,children:i.jsxs(gs,{className:"bg-white max-w-lg p-0 overflow-hidden",children:[i.jsxs("div",{className:"relative h-56",children:[e.imageUrl?i.jsx("div",{className:"w-full h-full absolute top-0 left-0 object-cover",style:{backgroundImage:`url(${e.imageUrl})`,backgroundSize:"cover",backgroundPosition:"center"}}):i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary/30 to-primary-dark/40",children:i.jsx(F,{className:"h-12 w-12 text-white/70"})}),i.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent flex flex-col justify-end p-6",children:[i.jsx(xs,{className:"text-2xl font-bold text-white mb-2",children:e.name}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(M,{className:"bg-white/20 text-white border-0",children:[i.jsx(se,{className:"h-3.5 w-3.5 mr-1.5"}),e.duration," minutos"]}),o(e.category)]})]})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Sobre este exercício"}),i.jsx("p",{className:"text-gray-800 mb-5",children:e.description}),i.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 rounded-lg mb-6",children:[i.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center",children:[i.jsx(F,{className:"h-4 w-4 mr-2 text-primary"}),"Prévia"]}),i.jsxs("div",{className:"bg-white p-4 rounded border border-gray-200",children:[i.jsx("p",{className:"whitespace-pre-line line-clamp-4 text-gray-800",children:e.content.split("⸻")[0]}),e.content.includes("⸻")&&i.jsxs("p",{className:"text-xs text-primary font-medium mt-2",children:["+ mais ",e.content.split("⸻").length-1," passos neste exercício completo"]})]})]})]}),i.jsxs(ys,{className:"bg-gray-50 border-t border-gray-200 p-4 flex flex-col sm:flex-row gap-3",children:[i.jsx(P,{variant:"outline",className:"gap-2",onClick:()=>{u(!l)},children:l?i.jsxs(i.Fragment,{children:[i.jsx(H,{className:"h-4 w-4 fill-primary text-primary"}),"Salvo"]}):i.jsxs(i.Fragment,{children:[i.jsx(le,{className:"h-4 w-4"}),"Salvar"]})}),i.jsxs(P,{className:"bg-primary hover:bg-primary-dark text-white gap-2 flex-grow",onClick:()=>{n(!1),r(!0)},children:[i.jsx(xe,{className:"h-4 w-4"}),"Iniciar exercício guiado"]})]})]})})]})}function Zi(){const[e,t]=b.useState(null),[s,n]=b.useState(""),[l,u]=b.useState({}),{toast:a}=cs(),{data:r,isLoading:o}=hs({queryKey:["/api/self-help-tools",e?{category:e}:{}]});b.useEffect(()=>{if(r&&r.length>0){const f={};r.forEach(y=>{Math.random()>.5&&(f[y.id]=Math.floor(Math.random()*100))}),u(f)}},[r]);const c=[{name:"Meditação",icon:i.jsx(Ps,{className:"h-5 w-5"})},{name:"Respiração",icon:i.jsx(As,{className:"h-5 w-5"})},{name:"Mindfulness",icon:i.jsx(Ce,{className:"h-5 w-5"})},{name:"Grounding",icon:i.jsx(ms,{className:"h-5 w-5"})},{name:"Visualização",icon:i.jsx(Ns,{className:"h-5 w-5"})},{name:"Relaxamento",icon:i.jsx(fs,{className:"h-5 w-5"})}],h=r&&r.length>0?r.find(f=>f.category.toLowerCase().includes("medit"))||r[0]:null,d=r==null?void 0:r.filter(f=>{const y=e?f.category===e:!0,w=s?f.name.toLowerCase().includes(s.toLowerCase())||f.description.toLowerCase().includes(s.toLowerCase())||f.category.toLowerCase().includes(s.toLowerCase()):!0;return y&&w}),m=Object.keys(l).length,p=2,g=r&&r.length>0?r.filter(f=>Object.keys(l).includes(f.id.toString())).slice(0,2):[],x=f=>{const y=c.find(w=>w.name.toLowerCase()===f.toLowerCase());return(y==null?void 0:y.icon)||i.jsx(ee,{className:"h-5 w-5"})};return i.jsxs("div",{className:"min-h-screen pb-20 bg-gray-50",children:[i.jsx("div",{className:"bg-white pt-6 pb-5 border-b border-gray-200 shadow-sm",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ferramentas de Autoajuda"}),i.jsxs("div",{className:"flex items-center",children:[i.jsxs(M,{className:"bg-primary/10 text-primary-dark border-0 font-semibold px-3 py-1 mr-3",children:[i.jsx(Ce,{className:"h-4 w-4 mr-1.5"}),p," dias consecutivos"]}),i.jsxs(P,{variant:"outline",size:"sm",className:"border-primary text-primary hover:bg-primary/10",onClick:()=>{a({title:"Exercícios salvos",description:"Acesse seus exercícios favoritos aqui"})},children:[i.jsx(H,{className:"h-4 w-4 mr-1.5"}),"Salvos"]})]})]}),i.jsxs("div",{className:"relative mb-2",children:[i.jsx(De,{className:"h-5 w-5 absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500"}),i.jsx(ds,{placeholder:"Buscar exercícios para ansiedade, estresse, foco...",className:"pl-12 py-6 bg-white border border-gray-300 rounded-lg shadow-sm text-gray-900 font-medium text-base",value:s,onChange:f=>n(f.target.value)})]})]})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 pt-6",children:[!e&&!s&&i.jsx(ie,{className:"mb-8 bg-white border border-gray-200 shadow-sm rounded-lg overflow-hidden",children:i.jsxs(xt,{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Seu progresso"}),i.jsxs("div",{className:"flex items-center bg-primary/10 px-3 py-1.5 rounded-full",children:[i.jsx(Ts,{className:"h-4 w-4 text-primary mr-1.5"}),i.jsxs("span",{className:"text-sm text-primary-dark font-semibold",children:[m," de ",(r==null?void 0:r.length)||0," exercícios"]})]})]}),i.jsx(Se,{value:r!=null&&r.length?m/r.length*100:0,className:"h-3 mb-4 bg-gray-100"}),i.jsx("p",{className:"text-base text-gray-800",children:"Praticar exercícios de autoajuda regularmente melhora seu bem-estar mental. Continue com sua sequência diária para melhores resultados."})]})}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Categorias"}),i.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3",children:[i.jsxs(P,{variant:e===null?"default":"outline",className:`h-auto py-4 flex flex-col items-center justify-center rounded-lg shadow-sm ${e===null?"bg-primary hover:bg-primary-dark text-white":"bg-white border border-gray-200 text-gray-800 hover:bg-gray-100"}`,onClick:()=>t(null),children:[i.jsx(ee,{className:"h-6 w-6 mb-2"}),i.jsx("span",{className:"text-sm font-semibold",children:"Todos"})]}),c.map(f=>i.jsxs(P,{variant:e===f.name?"default":"outline",className:`h-auto py-4 flex flex-col items-center justify-center rounded-lg shadow-sm ${e===f.name?"bg-primary hover:bg-primary-dark text-white":"bg-white border border-gray-200 text-gray-800 hover:bg-gray-100"}`,onClick:()=>t(f.name),children:[f.icon,i.jsx("span",{className:"text-sm font-semibold mt-2",children:f.name})]},f.name))]})]}),o?i.jsx("div",{className:"flex justify-center py-16",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(us,{className:"h-12 w-12 animate-spin text-primary mb-4"}),i.jsx("p",{className:"text-base text-gray-700",children:"Carregando exercícios..."})]})}):i.jsxs(i.Fragment,{children:[h&&!e&&!s&&i.jsxs("div",{className:"mb-10 bg-gradient-to-br from-primary/10 to-primary/5 rounded-xl p-6 border border-primary/20 shadow-sm",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center mr-3",children:i.jsx(F,{className:"h-5 w-5 text-white"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recomendado para você hoje"})]}),i.jsx("div",{className:"bg-white rounded-lg overflow-hidden shadow-md border border-gray-200",children:i.jsx(fe,{tool:h,featured:!0})}),i.jsx("div",{className:"mt-4 flex justify-end",children:i.jsxs(P,{variant:"link",className:"text-primary font-semibold hover:text-primary-dark",onClick:()=>{a({title:"Mais recomendações",description:"Veja mais exercícios recomendados para você"})},children:["Ver mais recomendações",i.jsx(ge,{className:"h-4 w-4 ml-1.5"})]})})]}),g.length>0&&!e&&!s&&i.jsxs("div",{className:"mb-10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-5",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:i.jsx(H,{className:"h-4 w-4 text-blue-600"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Seus exercícios"})]}),i.jsxs(P,{variant:"link",className:"text-primary font-semibold hover:text-primary-dark",onClick:()=>{a({title:"Todos os exercícios salvos",description:"Acesse todos os seus exercícios favoritos"})},children:["Ver todos",i.jsx(ge,{className:"h-4 w-4 ml-1.5"})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:g.map(f=>i.jsxs("div",{className:"relative bg-white rounded-lg overflow-hidden shadow-md border border-gray-200",children:[i.jsx(fe,{tool:f}),l[f.id]&&i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 px-3 pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs mb-1 px-1",children:[i.jsx("span",{className:"text-gray-700 font-medium",children:"Progresso"}),i.jsxs("span",{className:"text-primary font-semibold",children:[l[f.id],"%"]})]}),i.jsx(Se,{value:l[f.id],className:"h-2 bg-gray-100"})]})]},f.id))})]}),i.jsxs("div",{className:"mb-10",children:[i.jsxs("div",{className:"flex items-center mb-5",children:[i.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3",children:e?x(e):i.jsx(ee,{className:"h-4 w-4 text-green-600"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e?`${e}`:s?"Resultados da pesquisa":"Todos os exercícios"})]}),d&&d.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:d.map((f,y)=>i.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:y*.05},className:"bg-white rounded-lg overflow-hidden shadow-md border border-gray-200",children:i.jsx(fe,{tool:f})},f.id))}):i.jsxs(ie,{className:"bg-white p-8 flex flex-col items-center justify-center border border-gray-200 shadow-sm rounded-lg",children:[i.jsx(De,{className:"h-12 w-12 text-gray-400 mb-4"}),i.jsxs("p",{className:"text-gray-800 text-center font-semibold text-lg mb-2",children:['Nenhum exercício encontrado para "',s,'".']}),i.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Tente termos diferentes ou explore outras categorias."}),i.jsx(P,{variant:"outline",className:"px-6 py-2 border-primary text-primary hover:bg-primary-light",onClick:()=>n(""),children:"Limpar pesquisa"})]})]}),!e&&!s&&i.jsx(ie,{className:"bg-white border border-gray-200 shadow-sm rounded-lg p-6 mb-8",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center mr-4 flex-shrink-0",children:i.jsx(ee,{className:"h-6 w-6 text-purple-700"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-gray-900 mb-3 text-lg",children:"Baseado em evidências científicas"}),i.jsx("p",{className:"text-gray-800",children:"As técnicas apresentadas nesta seção são baseadas em estudos científicos e são recomendadas por profissionais de saúde mental para auxiliar no manejo do estresse, ansiedade e bem-estar geral."}),i.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[i.jsx(M,{className:"bg-green-100 text-green-800 hover:bg-green-200 px-2.5 py-1",children:"Redução de Estresse"}),i.jsx(M,{className:"bg-blue-100 text-blue-800 hover:bg-blue-200 px-2.5 py-1",children:"Melhoria do Sono"}),i.jsx(M,{className:"bg-purple-100 text-purple-800 hover:bg-purple-200 px-2.5 py-1",children:"Alívio da Ansiedade"}),i.jsx(M,{className:"bg-amber-100 text-amber-800 hover:bg-amber-200 px-2.5 py-1",children:"Foco e Concentração"})]})]})]})})]})]})]})}export{Zi as default};
