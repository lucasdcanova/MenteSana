import{c as pe,u as fe,b as je,r,aR as J,aS as W,d as ge,j as e,C as b,f as y,aT as w,g as S,h as C,B as n,aQ as H,E as A,aU as ve,aV as d,aW as c,aX as m,aY as x,aN as h,aZ as u,a_ as Ne,a$ as be,w as ye,A as X,b0 as we,K as U,b1 as Se,F as Y,b2 as Ce,b3 as i,I as Z,J as ee}from"./index-DKFI7ZyH.js";import{T as Te,a as Pe,b as _,c as q}from"./tabs-BarOwXjl.js";import{T as Ee}from"./textarea-CW1zArsP.js";import{B as g}from"./badge-CsDoxorc.js";import{S as Fe,a as Ae,b as De,c as ze,d as T}from"./select-DV2zMmnw.js";import{C as Ie}from"./calendar-35st2irS.js";import{P as ke}from"./profile-image-upload-DfbdSUK1.js";import{S as ae}from"./square-pen-C8JeLqTz.js";import{M as Be,a as Le}from"./map-pin-BshieWSJ.js";import{P as Ve}from"./phone-1GZSxC6s.js";import{U as se}from"./user-DNBDU0iz.js";import{S as Oe}from"./shield-o8exw86Q.js";import"./chevron-down-VAhjCEtL.js";import"./isSameDay-BgnmRS2q.js";import"./addDays--7OLxFs-.js";import"./endOfMonth-D7azNT7e.js";import"./isBefore-Dqtm-g72.js";import"./chevron-right-Bo6uQhrt.js";import"./avatar-Dqs0JyeB.js";import"./trash-2-CpzcPU4s.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=pe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),Me=i.object({firstName:i.string().min(2,"Nome deve ter pelo menos 2 caracteres"),lastName:i.string().min(2,"Sobrenome deve ter pelo menos 2 caracteres"),email:i.string().email("Email inválido"),phone:i.string().optional(),location:i.string().optional(),occupation:i.string().optional(),bio:i.string().optional(),gender:i.string().optional(),dateOfBirth:i.date().optional()}),Re=i.object({fears:i.array(i.string()).optional(),anxieties:i.array(i.string()).optional(),goals:i.array(i.string()).optional()});function da(){const{user:a}=fe(),{toast:v}=je(),[te,re]=r.useState("general"),[P,E]=r.useState(!1),[p,F]=r.useState(""),[f,D]=r.useState(null),[z,I]=r.useState((a==null?void 0:a.fears)||[]),[k,B]=r.useState((a==null?void 0:a.anxieties)||[]),[L,V]=r.useState((a==null?void 0:a.goals)||[]),[O,ie]=r.useState([]),[oe,$]=r.useState(!1),[le,ne]=r.useState(0),[de,ce]=r.useState(0),[me,xe]=r.useState(0),[He,Q]=r.useState(!1),o=J({resolver:W(Me),defaultValues:{firstName:(a==null?void 0:a.firstName)||"",lastName:(a==null?void 0:a.lastName)||"",email:(a==null?void 0:a.email)||"",phone:(a==null?void 0:a.phone)||"",location:(a==null?void 0:a.location)||"",occupation:(a==null?void 0:a.occupation)||"",bio:(a==null?void 0:a.bio)||"",gender:(a==null?void 0:a.gender)||"",dateOfBirth:a!=null&&a.dateOfBirth?new Date(a.dateOfBirth):void 0}}),K=J({resolver:W(Re),defaultValues:{fears:(a==null?void 0:a.fears)||[],anxieties:(a==null?void 0:a.anxieties)||[],goals:(a==null?void 0:a.goals)||[]}});r.useEffect(()=>{a&&($(!0),fetch(`/api/sessions?userId=${a.id}`).then(s=>s.json()).then(s=>{if(ie(s),$(!1),a.isTherapist){const t=s.filter(l=>l.status==="completed").length;ce(t)}}).catch(s=>{console.error("Erro ao carregar sessões:",s),$(!1)}))},[a]),r.useEffect(()=>{a&&a.isTherapist&&a.therapistId&&(Q(!0),fetch(`/api/therapists/${a.therapistId}/patients/count`).then(s=>s.json()).then(s=>{ne(s.count||0)}).catch(s=>{console.error("Erro ao carregar contagem de pacientes:",s)}),fetch(`/api/therapists/${a.therapistId}/rating`).then(s=>s.json()).then(s=>{xe(s.rating||0)}).catch(s=>{console.error("Erro ao carregar avaliação média:",s)}).finally(()=>{Q(!1)}))},[a]),r.useEffect(()=>{a&&(o.reset({firstName:a.firstName||"",lastName:a.lastName||"",email:a.email||"",phone:a.phone||"",location:a.location||"",occupation:a.occupation||"",bio:a.bio||"",gender:a.gender||"",dateOfBirth:a.dateOfBirth?new Date(a.dateOfBirth):void 0}),I(a.fears||[]),B(a.anxieties||[]),V(a.goals||[]),K.reset({fears:a.fears||[],anxieties:a.anxieties||[],goals:a.goals||[]}))},[a,o,K]);const he=async s=>{if(a){E(!0);try{const t=await Z("PATCH",`/api/users/${a.id}`,s);if(!t.ok)throw new Error("Falha ao atualizar perfil");const l=await t.json();ee.setQueryData(["/api/user"],l),v({title:"Perfil atualizado",description:"Suas informações foram atualizadas com sucesso."})}catch{v({title:"Erro",description:"Não foi possível atualizar seu perfil. Tente novamente.",variant:"destructive"})}finally{E(!1)}}},j=()=>{!p.trim()||!f||(f==="fears"?I(s=>[...s,p]):f==="anxieties"?B(s=>[...s,p]):f==="goals"&&V(s=>[...s,p]),F(""))},M=(s,t)=>{s==="fears"?I(l=>l.filter((G,N)=>N!==t)):s==="anxieties"?B(l=>l.filter((G,N)=>N!==t)):s==="goals"&&V(l=>l.filter((G,N)=>N!==t))},ue=async()=>{if(a){E(!0);try{const s={fears:z,anxieties:k,goals:L},t=await Z("PATCH",`/api/users/${a.id}`,s);if(!t.ok)throw new Error("Falha ao atualizar informações");const l=await t.json();ee.setQueryData(["/api/user"],l),v({title:"Informações atualizadas",description:"Seus medos, ansiedades e objetivos foram atualizados com sucesso."})}catch{v({title:"Erro",description:"Não foi possível atualizar suas informações. Tente novamente.",variant:"destructive"})}finally{E(!1)}}},[,R]=ge();return r.useEffect(()=>{a&&a.isTherapist&&R("/therapist-profile")},[a,R]),a?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 pb-20 ios-scroll-fix",children:[e.jsxs("div",{className:"bg-white/95 backdrop-blur-md px-4 pt-8 pb-6 shadow-sm relative overflow-hidden z-10 ios-safe-area-pt",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-70 z-0"}),e.jsxs("div",{className:"max-w-md mx-auto flex flex-col items-center relative z-10",children:[e.jsxs("div",{className:"mb-4 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-white rounded-full blur-md opacity-50 scale-90"}),e.jsx(ke,{currentImage:a.profilePicture,userName:`${a.firstName} ${a.lastName}`,size:"lg",showButtons:!1}),e.jsx("button",{className:"absolute bottom-0 right-0 bg-primary text-white rounded-full p-1.5 shadow-md border-2 border-white",onClick:()=>{v({title:"Editar foto",description:"Funcionalidade será implementada em breve."})},children:e.jsx(ae,{className:"h-3.5 w-3.5"})})]}),e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 animate-fade-in",style:{animationDelay:"0.1s"},children:[a.firstName," ",a.lastName]}),e.jsx(g,{variant:"outline",className:"mt-1 bg-primary/10 text-primary border-none font-medium px-3 py-1 rounded-full animate-fade-in",style:{animationDelay:"0.2s"},children:a.isTherapist?"Terapeuta":"Paciente"}),e.jsxs("div",{className:"w-full max-w-sm mt-6 flex justify-around px-4 animate-fade-in",style:{animationDelay:"0.3s"},children:[a.email&&e.jsxs("div",{className:"flex flex-col items-center group",children:[e.jsx("div",{className:"rounded-full bg-gray-100 p-2.5 mb-2 shadow-sm group-hover:bg-primary/10 group-hover:shadow-md transition-all duration-300",children:e.jsx(Be,{className:"h-5 w-5 text-gray-600 group-hover:text-primary transition-colors"})}),e.jsx("span",{className:"text-xs text-gray-600 group-hover:text-primary transition-colors",children:"Email"})]}),a.phone&&e.jsxs("div",{className:"flex flex-col items-center group",children:[e.jsx("div",{className:"rounded-full bg-gray-100 p-2.5 mb-2 shadow-sm group-hover:bg-primary/10 group-hover:shadow-md transition-all duration-300",children:e.jsx(Ve,{className:"h-5 w-5 text-gray-600 group-hover:text-primary transition-colors"})}),e.jsx("span",{className:"text-xs text-gray-600 group-hover:text-primary transition-colors",children:"Telefone"})]}),a.location&&e.jsxs("div",{className:"flex flex-col items-center group",children:[e.jsx("div",{className:"rounded-full bg-gray-100 p-2.5 mb-2 shadow-sm group-hover:bg-primary/10 group-hover:shadow-md transition-all duration-300",children:e.jsx(Le,{className:"h-5 w-5 text-gray-600 group-hover:text-primary transition-colors"})}),e.jsx("span",{className:"text-xs text-gray-600 group-hover:text-primary transition-colors",children:"Localização"})]}),!a.location&&a.occupation&&e.jsxs("div",{className:"flex flex-col items-center group",children:[e.jsx("div",{className:"rounded-full bg-gray-100 p-2.5 mb-2 shadow-sm group-hover:bg-primary/10 group-hover:shadow-md transition-all duration-300",children:e.jsx($e,{className:"h-5 w-5 text-gray-600 group-hover:text-primary transition-colors"})}),e.jsx("span",{className:"text-xs text-gray-600 group-hover:text-primary transition-colors",children:"Ocupação"})]})]})]})]}),e.jsx("div",{className:"container max-w-md mx-auto px-4 pt-4 flex-1",children:e.jsxs(Te,{defaultValue:"general",value:te,onValueChange:re,className:"w-full",children:[e.jsxs(Pe,{className:"grid w-full grid-cols-3 rounded-full bg-gray-100/80 backdrop-blur-sm p-1 shadow-inner border border-gray-100 animate-fade-in",style:{animationDelay:"0.4s"},children:[e.jsxs(_,{value:"general",className:`rounded-full text-[13px] font-medium transition-all duration-300
                  data-[state=active]:bg-white 
                  data-[state=active]:text-primary 
                  data-[state=active]:shadow-sm
                  data-[state=active]:scale-[1.02]
                  data-[state=active]:font-semibold`,children:[e.jsx(se,{className:"h-4 w-4 mr-1.5"}),"Perfil"]}),!a.isTherapist&&e.jsxs(_,{value:"health",className:`rounded-full text-[13px] font-medium transition-all duration-300
                    data-[state=active]:bg-white 
                    data-[state=active]:text-primary 
                    data-[state=active]:shadow-sm
                    data-[state=active]:scale-[1.02]
                    data-[state=active]:font-semibold`,children:[e.jsx(H,{className:"h-4 w-4 mr-1.5"}),"Saúde"]}),e.jsxs(_,{value:"history",className:`rounded-full text-[13px] font-medium transition-all duration-300
                  data-[state=active]:bg-white 
                  data-[state=active]:text-primary 
                  data-[state=active]:shadow-sm
                  data-[state=active]:scale-[1.02]
                  data-[state=active]:font-semibold`,children:[e.jsx(A,{className:"h-4 w-4 mr-1.5"}),"Histórico"]})]}),e.jsxs(q,{value:"general",children:[a.isTherapist&&e.jsxs(b,{className:"mb-6",children:[e.jsxs(y,{children:[e.jsx(w,{children:"Estatísticas Profissionais"}),e.jsx(S,{children:"Estatísticas baseadas em sua atividade na plataforma."})]}),e.jsx(C,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"border rounded-lg p-4 flex flex-col items-center",children:[e.jsx("span",{className:"text-2xl font-bold",children:le}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Pacientes"})]}),e.jsxs("div",{className:"border rounded-lg p-4 flex flex-col items-center",children:[e.jsx("span",{className:"text-2xl font-bold",children:de}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sessões"})]}),e.jsxs("div",{className:"border rounded-lg p-4 flex flex-col items-center",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-2xl font-bold",children:me.toFixed(1)}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-yellow-400",children:e.jsx("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z",clipRule:"evenodd"})})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Avaliação"})]})]})})]}),e.jsxs(b,{className:"border border-gray-100 shadow-sm rounded-xl overflow-hidden animate-fade-in",style:{animationDelay:"0.5s"},children:[e.jsxs(y,{className:"bg-gray-50/50 border-b border-gray-100",children:[e.jsxs(w,{className:"text-lg flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5 text-primary"}),"Informações Pessoais"]}),e.jsxs(S,{children:["Atualize suas informações pessoais. ",a.isTherapist?"Estas informações serão visíveis para seus pacientes.":"Estas informações serão visíveis para seu terapeuta."]})]}),e.jsx(C,{className:"pt-6",children:e.jsx(ve,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(he),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(d,{control:o.control,name:"firstName",render:({field:s})=>e.jsxs(c,{children:[e.jsx(m,{children:"Nome"}),e.jsx(x,{children:e.jsx(h,{placeholder:"Seu nome",...s})}),e.jsx(u,{})]})}),e.jsx(d,{control:o.control,name:"lastName",render:({field:s})=>e.jsxs(c,{children:[e.jsx(m,{children:"Sobrenome"}),e.jsx(x,{children:e.jsx(h,{placeholder:"Seu sobrenome",...s})}),e.jsx(u,{})]})})]}),e.jsx(d,{control:o.control,name:"email",render:({field:s})=>e.jsxs(c,{children:[e.jsx(m,{children:"Email"}),e.jsx(x,{children:e.jsx(h,{placeholder:"seu@email.com",...s})}),e.jsx(u,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(d,{control:o.control,name:"phone",render:({field:s})=>e.jsxs(c,{children:[e.jsx(m,{children:"Telefone"}),e.jsx(x,{children:e.jsx(h,{placeholder:"(00) 00000-0000",...s})}),e.jsx(u,{})]})}),e.jsx(d,{control:o.control,name:"location",render:({field:s})=>e.jsxs(c,{children:[e.jsx(m,{children:"Localização"}),e.jsx(x,{children:e.jsx(h,{placeholder:"Cidade, Estado",...s})}),e.jsx(u,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(d,{control:o.control,name:"occupation",render:({field:s})=>e.jsxs(c,{children:[e.jsx(m,{children:"Ocupação"}),e.jsx(x,{children:e.jsx(h,{placeholder:"Sua profissão",...s})}),e.jsx(u,{})]})}),e.jsx(d,{control:o.control,name:"gender",render:({field:s})=>e.jsxs(c,{children:[e.jsx(m,{children:"Gênero"}),e.jsxs(Fe,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(x,{children:e.jsx(Ae,{children:e.jsx(De,{placeholder:"Selecione um gênero"})})}),e.jsxs(ze,{children:[e.jsx(T,{value:"male",children:"Masculino"}),e.jsx(T,{value:"female",children:"Feminino"}),e.jsx(T,{value:"nonbinary",children:"Não-binário"}),e.jsx(T,{value:"other",children:"Outro"}),e.jsx(T,{value:"prefer_not_to_say",children:"Prefiro não informar"})]})]}),e.jsx(u,{})]})})]}),e.jsx(d,{control:o.control,name:"dateOfBirth",render:({field:s})=>e.jsxs(c,{className:"flex flex-col",children:[e.jsx(m,{children:"Data de Nascimento"}),e.jsxs(Ne,{children:[e.jsx(be,{asChild:!0,children:e.jsx(x,{children:e.jsxs(n,{variant:"outline",className:ye("w-full pl-3 text-left font-normal",!s.value&&"text-muted-foreground"),children:[s.value?X(s.value,"PPP",{locale:U}):e.jsx("span",{children:"Selecione uma data"}),e.jsx(A,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),e.jsx(we,{className:"w-auto p-0",align:"start",children:e.jsx(Ie,{mode:"single",selected:s.value,onSelect:s.onChange,disabled:t=>t>new Date||t<new Date("1900-01-01"),initialFocus:!0,locale:U})})]}),e.jsx(u,{})]})}),e.jsx(d,{control:o.control,name:"bio",render:({field:s})=>e.jsxs(c,{children:[e.jsx(m,{children:"Sobre Mim"}),e.jsx(x,{children:e.jsx(Ee,{placeholder:"Compartilhe um pouco sobre você",...s,className:"min-h-[120px]"})}),e.jsx(Se,{children:"Uma breve descrição sobre você, seus interesses e o que você está buscando."}),e.jsx(u,{})]})}),e.jsx(n,{type:"submit",disabled:P,children:P?"Salvando...":"Salvar Alterações"})]})})})]})]}),!a.isTherapist&&e.jsx(q,{value:"health",children:e.jsxs(b,{className:"border border-gray-100 shadow-sm rounded-xl overflow-hidden animate-fade-in",style:{animationDelay:"0.5s"},children:[e.jsxs(y,{className:"bg-gray-50/50 border-b border-gray-100",children:[e.jsxs(w,{className:"text-lg flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5 text-primary"}),"Saúde Mental"]}),e.jsx(S,{children:"Compartilhe informações sobre seus medos, ansiedades e objetivos terapêuticos. Estas informações ajudarão seu terapeuta a entender melhor suas necessidades."})]}),e.jsx(C,{className:"pt-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-2 flex items-center gap-2",children:[e.jsx(Oe,{className:"h-5 w-5"}),"Medos e Inseguranças"]}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Liste seus principais medos e inseguranças que gostaria de trabalhar."}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:z.length>0?z.map((s,t)=>e.jsxs(g,{variant:"secondary",className:"text-sm py-1 px-3",children:[s,e.jsx("button",{className:"ml-2 text-xs hover:text-destructive",onClick:()=>M("fears",t),children:"✕"})]},t)):e.jsx("p",{className:"text-muted-foreground text-sm italic",children:"Nenhum medo adicionado. Adicione abaixo."})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{placeholder:"Novo medo ou insegurança",value:f==="fears"?p:"",onChange:s=>{D("fears"),F(s.target.value)},onKeyDown:s=>s.key==="Enter"&&j()}),e.jsx(n,{variant:"outline",onClick:j,children:"Adicionar"})]})]}),e.jsx(Y,{}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-2 flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5"}),"Ansiedades e Preocupações"]}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Quais ansiedades e preocupações recorrentes você enfrenta no dia a dia?"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:k.length>0?k.map((s,t)=>e.jsxs(g,{variant:"secondary",className:"text-sm py-1 px-3",children:[s,e.jsx("button",{className:"ml-2 text-xs hover:text-destructive",onClick:()=>M("anxieties",t),children:"✕"})]},t)):e.jsx("p",{className:"text-muted-foreground text-sm italic",children:"Nenhuma ansiedade adicionada. Adicione abaixo."})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{placeholder:"Nova ansiedade ou preocupação",value:f==="anxieties"?p:"",onChange:s=>{D("anxieties"),F(s.target.value)},onKeyDown:s=>s.key==="Enter"&&j()}),e.jsx(n,{variant:"outline",onClick:j,children:"Adicionar"})]})]}),e.jsx(Y,{}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-2 flex items-center gap-2",children:[e.jsx(ae,{className:"h-5 w-5"}),"Objetivos Terapêuticos"]}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Quais são seus principais objetivos com a terapia? O que você deseja alcançar?"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:L.length>0?L.map((s,t)=>e.jsxs(g,{variant:"secondary",className:"text-sm py-1 px-3",children:[s,e.jsx("button",{className:"ml-2 text-xs hover:text-destructive",onClick:()=>M("goals",t),children:"✕"})]},t)):e.jsx("p",{className:"text-muted-foreground text-sm italic",children:"Nenhum objetivo adicionado. Adicione abaixo."})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{placeholder:"Novo objetivo terapêutico",value:f==="goals"?p:"",onChange:s=>{D("goals"),F(s.target.value)},onKeyDown:s=>s.key==="Enter"&&j()}),e.jsx(n,{variant:"outline",onClick:j,children:"Adicionar"})]})]}),e.jsx(n,{onClick:ue,disabled:P,className:"mt-4",children:P?"Salvando...":"Salvar Alterações"})]})})]})}),e.jsx(q,{value:"history",children:e.jsxs(b,{className:"border border-gray-100 shadow-sm rounded-xl overflow-hidden animate-fade-in",style:{animationDelay:"0.5s"},children:[e.jsxs(y,{className:"bg-gray-50/50 border-b border-gray-100",children:[e.jsxs(w,{className:"text-lg flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5 text-primary"}),"Histórico de Atendimentos"]}),e.jsx(S,{children:"Veja todas as suas consultas anteriores e agendadas."})]}),e.jsx(C,{className:"pt-6",children:oe?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})}):O&&O.length>0?e.jsx("div",{className:"space-y-5",children:O.map((s,t)=>e.jsxs("div",{className:"border border-gray-100 rounded-xl p-5 hover:bg-accent/20 transition-all duration-300 shadow-sm hover:shadow animate-fade-in",style:{animationDelay:`${.1*(t+1)}s`},children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-[15px]",children:["Consulta com ",s.therapistName||"Terapeuta"]}),e.jsxs("p",{className:"text-muted-foreground text-sm mt-0.5 flex items-center",children:[e.jsx(A,{className:"h-3.5 w-3.5 mr-1.5 text-muted-foreground"}),X(new Date(s.scheduledFor),"PPP 'às' HH:mm",{locale:U})]}),e.jsx(g,{variant:s.status==="completed"?"default":s.status==="canceled"?"destructive":"outline",className:"mt-2.5 rounded-full px-3 py-0.5 text-xs font-medium",children:s.status==="completed"?"Concluída":s.status==="canceled"?"Cancelada":"Agendada"})]}),e.jsx(g,{variant:"outline",className:"capitalize rounded-full text-xs font-medium shadow-sm border-gray-200 bg-gray-50/80",children:s.type==="video"?"Videochamada":s.type==="chat"?"Chat":s.type})]}),s.notes&&e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"Observações:"})," ",s.notes]})}),e.jsxs("div",{className:"mt-4 flex justify-end",children:[s.status==="scheduled"&&e.jsxs(e.Fragment,{children:[e.jsx(n,{variant:"outline",size:"sm",className:"mr-2 text-[13px] font-medium rounded-full border-gray-200 shadow-sm",children:"Reagendar"}),e.jsx(n,{variant:"default",size:"sm",className:"text-[13px] font-medium rounded-full shadow-sm",onClick:()=>window.location.href=`/video-call/${s.id}`,children:new Date(s.scheduledFor)<=new Date?"Entrar na Consulta":"Ver Detalhes"})]}),s.status==="completed"&&e.jsx(n,{variant:"outline",size:"sm",className:"text-[13px] font-medium rounded-full border-gray-200 shadow-sm",children:"Ver Anotações"})]})]},s.id))}):e.jsxs("div",{className:"text-center py-10 px-4 animate-fade-in",children:[e.jsx("div",{className:"bg-gray-50 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-5 shadow-sm",children:e.jsx(Ce,{className:"h-10 w-10 text-muted-foreground opacity-80"})}),e.jsx("h3",{className:"text-lg font-medium",children:"Nenhuma consulta encontrada"}),e.jsx("p",{className:"text-muted-foreground mt-2 max-w-sm mx-auto",children:"Você ainda não realizou nenhuma consulta ou agendamento. Agende sua primeira consulta para começar."}),e.jsx(n,{className:"mt-5 rounded-full font-medium px-6 shadow-md",children:"Agendar Primeira Consulta"})]})})]})})]})})]})}):e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs(b,{className:"max-w-md w-full",children:[e.jsxs(y,{children:[e.jsx(w,{children:"Acesso Negado"}),e.jsx(S,{children:"Você precisa estar logado para acessar seu perfil."})]}),e.jsx(C,{children:e.jsx(n,{className:"w-full",onClick:()=>R("/auth"),children:"Fazer Login"})})]})})}export{da as default};
